{"version":3,"sources":["furnishings/furnishing.js","furnishings/linestexture.js","furnishings/table.js","furnishings/longtable.js","furnishings/dirttexture.js","furnishings/stool.js","furnishings/chair.js","furnishings/bed.js","furnishings/dresser.js","furnishings/desk.js","furnishings/nightstand.js","furnishings/sofa.js","furnishings/bookcase.js","reducers/index.js","reducers/roomReducer.js","reducers/fileReducer.js","reducers/lockReducer.js","reducers/modeReducer.js","reducers/undoReducer.js","reducers/redoReducer.js","components/formbutton.js","constants/apiurl.js","routes/signup.js","modals/modal.js","modals/helpmodal.js","modals/addmodal.js","components/modetoolbar.js","modals/newmodal.js","modals/errormodal.js","modals/openmodal.js","modals/invitemodal.js","modals/confirmmodal.js","components/filetoolbar.js","constants/width.js","constants/height.js","helpers/handleMove.js","components/maincanvas.js","helpers/tossGarbage.js","helpers/openRoom.js","helpers/newRoom.js","helpers/resetCamera.js","helpers/handleDown.js","helpers/handleUp.js","helpers/buildSocketEvents.js","helpers/rebuildRoom.js","helpers/removeTransients.js","helpers/moveX.js","helpers/moveZ.js","helpers/moveTheta.js","helpers/handleMouseMove.js","helpers/handleTouchMove.js","helpers/handleMouseDown.js","helpers/handleTouchStart.js","helpers/handleMouseUp.js","helpers/handleTouchEnd.js","helpers/disposeAllFurnishings.js","helpers/handleMoveCamera.js","helpers/handleRotateCamera.js","helpers/handleOverhead.js","helpers/pushRoomToUndoStack.js","helpers/pushRoomToRedoStack.js","helpers/handleUndo.js","helpers/handleRedo.js","helpers/loadRoomFromState.js","routes/main.js","routes/login.js","components/navbar.js","routes/manageAccount.js","App.js","serviceWorker.js","index.js"],"names":["squareRoot255","val","Math","sqrt","Furnishing","furnishing","colors","_this","this","brighten","arguments","length","undefined","Object","classCallCheck","fillColor","threeDimMeshes","texture","material","map","dispose","MeshPhongMaterial","color","Color","red","green","blue","forEach","thisMesh","pop","geometry","removeFrom","scene","remove","id","type","posx","posz","theta","params","roomId","colorName","obj","raycaster","intersections","intersectObjects","dist","distance","intersection","diffX","translateMat","Matrix4","makeTranslation","applyMatrix","diffZ","diffTheta","invTranslateMat","rotateMat","makeRotationY","renderer","camera","castShadow","receiveShadow","add","render","light","renderLists","Scene","linesTexture","TextureLoader","load","wrapS","MirroredRepeatWrapping","wrapT","repeat","set","Table","possibleConstructorReturn","getPrototypeOf","call","cube","Mesh","BoxGeometry","position","cylinder1","CylinderGeometry","rotation","x","z","cylinder2","cylinder3","cylinder4","push","objVal","LongTable","dirtTexture","Stool","scale","Chair","backing","Bed","Dresser","Desk","NightStand","Sofa","armrest1","armrest2","BookCase","box1","box2","box3","box4","box5","box6","box7","box8","box9","rootReducer","combineReducers","room","state","action","name","bed","uuid","renderFurnishing","socket","emit","concat","toConsumableArray","chair","desk","table","bookcase","dresser","longtable","nightstand","sofa","stool","anotherFurnishingToDelete","find","furnishingId","filter","i","j","file","amOwner","roomProperties","availableRooms","objectSpread","rooms","lock","lockRequested","mouseDown","lockObtained","mousex","mousey","dragging","mode","undo","stateToPush","newState","redo","FormButton","setColor","props","style","backgroundColor","react_default","a","createElement","display","onSubmit","e","preventDefault","handleSubmit","target","reset","title","value","icon","SvgIcon","React","Component","apiurl","window","location","href","includes","Signup","err","event","username","alphanumericFilter","document","querySelector","password","confirmPassword","fetch","method","credentials","then","res","json","data","status","setState","headers","Content-type","body","JSON","stringify","response","success","history","_this2","_this3","width","paddingLeft","paddingTop","formbutton_FormButton","Modal","boxShadow","margin","left","top","borderStyle","zIndex","padding","HelpModal","iconStyle","verticalAlign","height","overflow","listStyle","DirectionsWalk_default","Help_default","AccountBox_default","Create_default","FolderOpen_default","PersonAdd_default","DeleteForever_default","Undo_default","Redo_default","PanTool_default","RotateLeft_default","AddCircle_default","Delete_default","ColorLens_default","CameraAlt_default","CenterFocusStrong_default","ThreeSixty_default","BorderOuter_default","KeyboardArrowUp_default","scrollTop","KeyboardArrowDown_default","okCallback","AddModal","furnishingObj","onChange","keys","key","cancelCallback","ModeToolbar","modal","onMoveClick","setMode","onRotateClick","onDeleteClick","onColorClick","handleColorChange","Fragment","addmodal_AddModal","pushRoomToUndoStack","clearRedoStack","addFurnishing","connect","dispatch","NewModal","placeholder","ErrorModal","message","callback","OpenModal","InviteModal","ConfirmModal","FileToolbar","errMsg","setError","msg","inviteToRoom","inputVal","Content-Type","recipientUsername","catch","deleteRoom","resetFile","disposeAllFurnishings","clearUndoStack","newmodal_NewModal","roomName","roomSize","newRoom","errormodal_ErrorModal","openmodal_OpenModal","openRoom","invitemodal_InviteModal","confirmmodal_ConfirmModal","addFurnishingFromObject","setIsOwner","setRoomProperties","removeAllFurnishings","angle","y","atan","PI","abs","MainCanvas","cameraDispX","cameraDispZ","cameraRotDispY","rotatingCameraMode","overheadView","tossGarbage","garbage","trash","bind","assertThisInitialized","parseInt","rebuildRoom","furnishings","error","setErrMsg","resetEverything","results","alphanumericReplace","size","match","resetCamera","handleMove","pageX","pageY","movementX","movementY","moveX","moveZ","b","cos","sin","xval","domElement","offsetLeft","yval","offsetTop","diffx","diffy","dx","dy","theta1","theta2","moveTheta","handleDown","mouse","Vector2","setMouseDown","setFromCamera","thisFurnishing","thisDist","checkIntersect","setLockRequested","setFurnishing","setLockApproved","handleUp","unLock","unSetMouseDown","buildSocketEvents","on","modeLogout","lockLogout","fileLogout","roomLogout","payload","pushRoomToRedoStack","handleUndo","handleRedo","updateFromObject","deleteFurnishing","setAvailableRooms","removeTransients","doInit","shadow","bias","floor","PlaneGeometry","side","DoubleSide","ceiling","wallLeft","wallRight","wallBack","wallFront","ambientLight","handleMouseMove","handleTouchMove","lastTouchMoveX","lastTouchMoveY","touches","handleMouseDown","handleTouchStart","handleMouseUp","handleTouchEnd","reRender","background","handleMoveCamera","handleRotateCamera","handleOverhead","oldState","pushToUndoStack","pushToRedoStack","loadRoomFromState","popUndoStack","popRedoStack","canvas","WebGLRenderer","physicallyCorrectLights","Raycaster","shadowMap","enabled","PCFSoftShadowMap","PerspectiveCamera","PointLight","decay","AmbientLight","interval","setInterval","clearInterval","filetoolbar","openHelp","modetoolbar","onMouseDown","onTouchStart","onMouseMove","onTouchMove","onMouseUp","onTouchEnd","onTouchCancel","onMouseOut","roomDoNothing","dz","dtheta","dim","updateColor","io","require","wsloc","Main","handleLogout","newColors","split","transports","roomsInterval","helpmodal_HelpModal","maincanvas","Login","defaultValue","NavBar","fontFamily","fontSize","fontWeight","ManageAccount","deleteUsername","oldPassword","currentPassword","newPassword","deleteAccount","handleDelete","App","string","toString","replace","react_router_dom","navbar_NavBar","react_router","exact","path","login_Login","assign","signup_Signup","main","manageAccount_ManageAccount","Boolean","hostname","store","createStore","ReactDOM","es","App_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5ccc815d.chunk.js","sourcesContent":["import { Matrix4, Scene, MeshPhongMaterial, Color } from 'three';\n\n\nfunction squareRoot255(val) {\n  return 255*Math.sqrt(val/255);\n}\n\nexport default class Furnishing {\n  constructor(furnishing,colors, brighten = false) {\n    this.id = furnishing.id;\n    this.type = furnishing.type;\n    this.posx = furnishing.posx;\n    this.posz = furnishing.posz;\n    this.theta = furnishing.theta;\n    this.params = furnishing.params;\n    this.roomId = furnishing.roomId;\n    this.colorName = furnishing.colorName;\n    if(colors && colors[this.colorName]) {\n      if(brighten) {\n        this.red = squareRoot255(colors[this.colorName].red);\n        this.green = squareRoot255(colors[this.colorName].green);\n        this.blue = squareRoot255(colors[this.colorName].blue);\n      } else {\n        this.red = colors[this.colorName].red;\n        this.green = colors[this.colorName].green;\n        this.blue = colors[this.colorName].blue;\n      }\n    }\n    this.threeDimMeshes = []; // fill out in subclasses\n  }\n\n  fillColor = () => {\n    if(this.threeDimMeshes.length > 0) {\n      let texture = this.threeDimMeshes[0].material.map;\n      this.threeDimMeshes[0].material.dispose();\n      let material = new MeshPhongMaterial({map: texture, color: new Color(this.red/255,this.green/255,this.blue/255)});\n      this.threeDimMeshes.forEach( thisMesh => {\n        thisMesh.material = material;\n      });\n    }\n  }\n\n  objVal() {\n    let retVal = {id:this.id, type:this.type, posx:this.posx, posz:this.posz, \n      theta:this.theta, params:this.params, roomId: this.roomId, colorName: this.colorName };\n    return retVal;\n  }\n\n  updateFromObject(obj,colors) {\n    this.id = obj.id;\n    this.type = obj.type;\n    this.posx = obj.posx;\n    this.posz = obj.posz;\n    this.theta = obj.theta;\n    this.params = obj.params;\n    this.roomId = obj.roomId;\n    this.colorName = obj.colorName;\n    if(colors && colors[this.colorName]) {\n      this.red = colors[this.colorName].red;\n      this.green = colors[this.colorName].green;\n      this.blue = colors[this.colorName].blue;\n    }\n  }\n\n  static doInit(renderer,light,camera) {\n    renderer.renderLists.dispose();\n    var scene = new Scene();\n    scene.add(light);\n    renderer.render(scene,camera);\n    return scene;\n  }\n\n  checkIntersect(raycaster) {\n    let intersections = raycaster.intersectObjects(this.threeDimMeshes,true);\n    if(intersections.length > 0) {\n      var dist = intersections[0].distance;\n      intersections.forEach( intersection => {\n        if(intersection.distance < dist) {\n          dist = intersection.distance;\n        }\n      });\n      return dist;\n    }\n    return -1;\n  }\n\n  dispose = () => {\n    while(this.threeDimMeshes.length > 0) {\n      var thisMesh = this.threeDimMeshes.pop();\n      thisMesh.geometry.dispose();\n      thisMesh.material.dispose();\n    }\n  }\n\n\n  moveX(diffX) {\n    let translateMat = new Matrix4();\n    translateMat.makeTranslation(diffX,0,0);\n    this.threeDimMeshes.forEach( thisMesh => {\n      thisMesh.applyMatrix(translateMat);\n    });\n    this.posx += diffX;\n  }\n\n  moveZ(diffZ) {\n    let translateMat = new Matrix4();\n    translateMat.makeTranslation(0,0,diffZ);\n    this.threeDimMeshes.forEach( thisMesh => {\n      thisMesh.applyMatrix(translateMat);\n    });\n    this.posz += diffZ;\n  }\n\n  moveTheta(diffTheta) {\n    let invTranslateMat = new Matrix4();\n    let translateMat = new Matrix4();\n    let rotateMat = new Matrix4();\n    translateMat.makeTranslation(this.posx,0,this.posz);\n    invTranslateMat.makeTranslation(-this.posx,0,-this.posz);\n    rotateMat.makeRotationY(diffTheta);\n    this.threeDimMeshes.forEach( thisMesh => {\n      thisMesh.applyMatrix(invTranslateMat);\n      thisMesh.applyMatrix(rotateMat);\n      thisMesh.applyMatrix(translateMat);\n    });\n    this.theta += diffTheta;\n  }\n\n\n  removeFrom = (scene) => {\n    this.threeDimMeshes.forEach( thisMesh => {\n      scene.remove(thisMesh);\n    });\n  }\n\n  renderFurnishing(renderer,camera,scene) {\n    let rotateMat = new Matrix4();\n    rotateMat.makeRotationY(this.theta);\n    let translateMat = new Matrix4();\n    translateMat.makeTranslation(this.posx,0,this.posz);\n  \n    this.threeDimMeshes.forEach( thisMesh => {\n      thisMesh.castShadow = true;\n      thisMesh.receiveShadow = true;\n      thisMesh.applyMatrix(rotateMat);\n      thisMesh.applyMatrix(translateMat);\n      scene.add(thisMesh);\n    });\n\n    renderer.render(scene,camera);\n    return scene;\n  }\n}\n","import { TextureLoader, MirroredRepeatWrapping } from 'three';\n\nconst linesTexture = new TextureLoader().load(\"lines.png\");\nlinesTexture.wrapS = MirroredRepeatWrapping;\nlinesTexture.wrapT = MirroredRepeatWrapping;\nlinesTexture.repeat.set(2,2);\n\nexport default linesTexture;\n","import Furnishing from \"./furnishing\"\nimport { MeshPhongMaterial, Color, BoxGeometry, CylinderGeometry, Mesh } from 'three';\nimport linesTexture from './linestexture';\n\nexport default class Table extends Furnishing {\n\n  clone(colors,brighten=false) {\n    return new Table(this.objVal(),colors,brighten);\n  }\n\n  constructor(furnishing,colors,brighten=false) {\n    super(furnishing,colors,brighten);\n\n    const material = new MeshPhongMaterial({map: linesTexture, color: new Color(this.red/255,this.green/255,this.blue/255)});\n    \n    let scale = 1.35;\n\n    const cube = new Mesh( new BoxGeometry(1*scale,0.1*scale,1*scale),material);\n    cube.position.set(0.0,-0.1*scale+1*scale,0.0)\n\n    let cylinder1 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.8*scale,25 ),\n      material ) \n    cylinder1.position.set(-0.5*scale,-0.5*scale+1*scale,0.5*scale)\n    cylinder1.rotation.x = -0.25\n    cylinder1.rotation.z = -0.25\n    \n    let cylinder2 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.8*scale,25 ),\n      material ) \n    cylinder2.position.set(0.5*scale,-0.5*scale+1*scale,0.5*scale)\n    cylinder2.rotation.x = -0.25\n    cylinder2.rotation.z = 0.25\n\n    let cylinder3 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.8*scale,25 ),\n      material ) \n    cylinder3.position.set(-0.5*scale,-0.5*scale+1*scale,-0.5*scale)\n    cylinder3.rotation.x = 0.25\n    cylinder3.rotation.z = -0.25\n    \n    let cylinder4 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.8*scale,25 ),\n      material )\n    cylinder4.position.set(0.5*scale,-0.5*scale+1*scale,-0.5*scale)\n    cylinder4.rotation.x = 0.25\n    cylinder4.rotation.z = 0.25\n    \n    this.threeDimMeshes.push(cube);\n    this.threeDimMeshes.push(cylinder1);\n    this.threeDimMeshes.push(cylinder2);\n    this.threeDimMeshes.push(cylinder3);\n    this.threeDimMeshes.push(cylinder4);\n  }\n}\n","import Furnishing from \"./furnishing\"\nimport { MeshPhongMaterial, Color, BoxGeometry, CylinderGeometry, Mesh } from 'three';\nimport linesTexture from './linestexture';\n\nexport default class LongTable extends Furnishing {\n  clone(colors,brighten = false) {\n    return new LongTable(this.objVal(),colors,brighten);\n  }\n  \n  constructor(furnishing,colors,brighten = false) {\n    super(furnishing,colors,brighten);\n\n    const material = new MeshPhongMaterial({map: linesTexture, color: new Color(this.red/255,this.green/255,this.blue/255)});\n    \n    let scale = 1.35;\n\n    const cube = new Mesh( new BoxGeometry(3*scale,0.1*scale,1*scale),material);\n    cube.position.set(0.0,-0.1*scale+1*scale,0.0)\n\n    let cylinder1 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.8*scale,25 ),\n      material ) \n    cylinder1.position.set(-1.5*scale,-0.5*scale+1*scale,0.5*scale)\n    cylinder1.rotation.x = -0.25\n    cylinder1.rotation.z = -0.25\n    \n    let cylinder2 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.8*scale,25 ),\n      material ) \n    cylinder2.position.set(1.5*scale,-0.5*scale+1*scale,0.5*scale)\n    cylinder2.rotation.x = -0.25\n    cylinder2.rotation.z = 0.25\n\n    let cylinder3 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.8*scale,25 ),\n      material ) \n    cylinder3.position.set(-1.5*scale,-0.5*scale+1*scale,-0.5*scale)\n    cylinder3.rotation.x = 0.25\n    cylinder3.rotation.z = -0.25\n    \n    let cylinder4 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.8*scale,25 ),\n      material )\n    cylinder4.position.set(1.5*scale,-0.5*scale+1*scale,-0.5*scale)\n    cylinder4.rotation.x = 0.25\n    cylinder4.rotation.z = 0.25\n    \n    this.threeDimMeshes.push(cube);\n    this.threeDimMeshes.push(cylinder1);\n    this.threeDimMeshes.push(cylinder2);\n    this.threeDimMeshes.push(cylinder3);\n    this.threeDimMeshes.push(cylinder4);\n  }\n}\n","import { TextureLoader, MirroredRepeatWrapping } from 'three';\n\nconst dirtTexture = new TextureLoader().load(\"dirt.png\");\ndirtTexture.wrapS = MirroredRepeatWrapping;\ndirtTexture.wrapT = MirroredRepeatWrapping;\ndirtTexture.repeat.set(2,2);\n\nexport default dirtTexture;\n","import Furnishing from \"./furnishing\"\nimport { MeshPhongMaterial, Color, BoxGeometry, CylinderGeometry, Mesh } from 'three';\nimport dirtTexture from './dirttexture';\n\nexport default class Stool extends Furnishing {\n\n  clone(colors,brighten=false) {\n    return new Stool(this.objVal(),colors,brighten);\n  }\n\n  constructor(furnishing,colors,brighten=false) {\n    super(furnishing,colors,brighten);\n\n    const material = new MeshPhongMaterial({map: dirtTexture, color: new Color(this.red/255,this.green/255,this.blue/255)});\n    \n    var scale = 0.8;\n    const cube = new Mesh( new BoxGeometry(scale*1,scale*0.1,scale*1),material);\n    cube.position.set(scale*0.0,scale*(-0.1)+scale,scale*0.0)\n\n    let cylinder1 = new Mesh( new CylinderGeometry( scale*0.1,scale*0.1,scale*0.8,25 ),\n      material ) \n    cylinder1.position.set(-0.5*scale,-0.5*scale+scale,0.5*scale)\n    cylinder1.rotation.x = -0.25\n    cylinder1.rotation.z = -0.25\n    \n    let cylinder2 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.8*scale,25 ),\n      material ) \n    cylinder2.position.set(0.5*scale,-0.5*scale+scale,0.5*scale)\n    cylinder2.rotation.x = -0.25\n    cylinder2.rotation.z = 0.25\n\n    let cylinder3 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.8*scale,25 ),\n      material ) \n    cylinder3.position.set(-0.5*scale,-0.5*scale+scale,-0.5*scale)\n    cylinder3.rotation.x = 0.25\n    cylinder3.rotation.z = -0.25\n    \n    let cylinder4 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.8*scale,25 ),\n      material )\n    cylinder4.position.set(0.5*scale,-0.5*scale+scale,-0.5*scale)\n    cylinder4.rotation.x = 0.25\n    cylinder4.rotation.z = 0.25\n    \n    this.threeDimMeshes.push(cube);\n    this.threeDimMeshes.push(cylinder1);\n    this.threeDimMeshes.push(cylinder2);\n    this.threeDimMeshes.push(cylinder3);\n    this.threeDimMeshes.push(cylinder4);\n  }\n}\n","import Furnishing from \"./furnishing\"\nimport { MeshPhongMaterial, Color, BoxGeometry, CylinderGeometry, Mesh } from 'three';\nimport dirtTexture from './dirttexture';\n\nexport default class Chair extends Furnishing {\n  clone(colors, brighten = false) {\n    return new Chair(this.objVal(),colors, brighten);\n  }\n\n  constructor(furnishing,colors,brighten = false) {\n    super(furnishing,colors,brighten);\n\n    \n    const material = new MeshPhongMaterial({ map: dirtTexture,  color: new Color(this.red/255,this.green/255,this.blue/255)});\n    var scale = 1.5*0.6;\n    const backing = new Mesh( new BoxGeometry( scale*0.1,scale*1,scale*1),material);\n    backing.position.set(scale*0.55,scale*1.4,scale*0.0);\n    backing.rotation.z = -0.25;\n\n    \n    const cube = new Mesh( new BoxGeometry(scale*1,scale*0.1,scale*1),material);\n    cube.position.set(scale*0.0,scale*(-0.1)+scale,scale*0.0)\n\n    let cylinder1 = new Mesh( new CylinderGeometry( scale*0.1,scale*0.1,scale*0.8,25 ),\n      material ) \n    cylinder1.position.set(-0.5*scale,-0.5*scale+scale,0.5*scale)\n    cylinder1.rotation.x = -0.25\n    cylinder1.rotation.z = -0.25\n    \n    let cylinder2 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.8*scale,25 ),\n      material ) \n    cylinder2.position.set(0.5*scale,-0.5*scale+scale,0.5*scale)\n    cylinder2.rotation.x = -0.25\n    cylinder2.rotation.z = 0.25\n\n    let cylinder3 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.8*scale,25 ),\n      material ) \n    cylinder3.position.set(-0.5*scale,-0.5*scale+scale,-0.5*scale)\n    cylinder3.rotation.x = 0.25\n    cylinder3.rotation.z = -0.25\n    \n    let cylinder4 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.8*scale,25 ),\n      material )\n    cylinder4.position.set(0.5*scale,-0.5*scale+scale,-0.5*scale)\n    cylinder4.rotation.x = 0.25\n    cylinder4.rotation.z = 0.25\n    \n    this.threeDimMeshes.push(cube);\n    this.threeDimMeshes.push(cylinder1);\n    this.threeDimMeshes.push(cylinder2);\n    this.threeDimMeshes.push(cylinder3);\n    this.threeDimMeshes.push(cylinder4);\n    this.threeDimMeshes.push(backing);\n  }\n}\n","import Furnishing from \"./furnishing\"\nimport { MeshPhongMaterial, Color, BoxGeometry, CylinderGeometry, Mesh } from 'three';\nimport dirtTexture from './dirttexture';\n\nexport default class Bed extends Furnishing {\n\n  clone(colors,brighten = false) {\n    return new Bed(this.objVal(),colors,brighten);\n  }\n\n  constructor(furnishing,colors,brighten = false) {\n    super(furnishing,colors,brighten);\n\n    const material = new MeshPhongMaterial({map: dirtTexture, color: new Color(this.red/255,this.green/255,this.blue/255)});\n  \n    let scale = 1.3;\n\n    const cube = new Mesh( new BoxGeometry(2.1*scale,0.6*scale,2.6*scale),material);\n    cube.position.set(0.0,-0.1*scale+0.8*scale,0.0)\n\n    let cylinder1 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.8*scale,25 ),\n      material ) \n    cylinder1.position.set(-0.9*scale,-0.5*scale+1*scale,1.1*scale)\n    \n    let cylinder2 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.8*scale,25 ),\n      material ) \n    cylinder2.position.set(0.9*scale,-0.5*scale+1*scale,1.1*scale)\n    \n    let cylinder3 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.8*scale,25 ),\n      material ) \n    cylinder3.position.set(-0.9*scale,-0.5*scale+1*scale,-1.1*scale)\n\n    \n    let cylinder4 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.8*scale,25 ),\n      material )\n    cylinder4.position.set(0.9*scale,-0.5*scale+1*scale,-1.1*scale)\n\n    \n    this.threeDimMeshes.push(cube);\n    this.threeDimMeshes.push(cylinder1);\n    this.threeDimMeshes.push(cylinder2);\n    this.threeDimMeshes.push(cylinder3);\n    this.threeDimMeshes.push(cylinder4);\n  }\n}\n","import Furnishing from \"./furnishing\"\nimport { MeshPhongMaterial, Color, BoxGeometry, CylinderGeometry, Mesh } from 'three';\nimport linesTexture from './linestexture';\n\nexport default class Dresser extends Furnishing {\n  clone(colors, brighten = false) {\n    return new Dresser(this.objVal(),colors, brighten);\n  }\n\n\n  constructor(furnishing,colors,brighten = false) {\n    super(furnishing,colors,brighten);\n\n    let scale = 1.25;\n\n    const material = new MeshPhongMaterial({map: linesTexture, color: new Color(this.red/255,this.green/255,this.blue/255)});\n    \n    const cube = new Mesh( new BoxGeometry(1.2*scale,1.5*scale,0.9*scale),material);\n    cube.position.set(0.0,-0.1*scale+1.15*scale,0.0)\n\n    let cylinder1 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.2*scale,25 ),\n      material ) \n    cylinder1.position.set(-0.5*scale,0.2*scale,0.3*scale)\n    \n    let cylinder2 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.2*scale,25 ),\n      material ) \n    cylinder2.position.set(0.5*scale,0.2*scale,0.3*scale)\n    \n    let cylinder3 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.2*scale,25 ),\n      material ) \n    cylinder3.position.set(-0.5*scale,0.2*scale,-0.3*scale)\n\n    \n    let cylinder4 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.2*scale,25 ),\n      material )\n    cylinder4.position.set(0.5*scale,0.2*scale,-0.3*scale)\n\n    \n    this.threeDimMeshes.push(cube);\n    this.threeDimMeshes.push(cylinder1);\n    this.threeDimMeshes.push(cylinder2);\n    this.threeDimMeshes.push(cylinder3);\n    this.threeDimMeshes.push(cylinder4);\n  }\n}\n","import Furnishing from \"./furnishing\"\nimport { MeshPhongMaterial, Color, BoxGeometry, CylinderGeometry, Mesh } from 'three';\nimport linesTexture from './linestexture';\n\nexport default class Desk extends Furnishing {\n\n  clone(colors, brighten = false) {\n    return new Desk(this.objVal(),colors, brighten);\n  }\n\n  constructor(furnishing,colors,brighten = false) {\n    super(furnishing,colors,brighten);\n\n    const material = new MeshPhongMaterial({map: linesTexture, color: new Color(this.red/255,this.green/255,this.blue/255)});\n    var scale = 1.3;\n    \n    const cube = new Mesh( new BoxGeometry(1.75*scale,0.5*scale,0.9*scale),material);\n    cube.position.set(0.0,-0.1*scale+1.0*scale,0.0)\n\n    let cylinder1 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.65*scale,25 ),\n      material ) \n    cylinder1.position.set(-0.75*scale,0.425*scale,0.3*scale)\n    \n    let cylinder2 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.65*scale,25 ),\n      material ) \n    cylinder2.position.set(0.75*scale,0.425*scale,0.3*scale)\n    \n    let cylinder3 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.65*scale,25 ),\n      material ) \n    cylinder3.position.set(-0.75*scale,0.425*scale,-0.3*scale)\n\n    \n    let cylinder4 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.65*scale,25 ),\n      material )\n    cylinder4.position.set(0.75*scale,0.425*scale,-0.3*scale)\n\n    \n    this.threeDimMeshes.push(cube);\n    this.threeDimMeshes.push(cylinder1);\n    this.threeDimMeshes.push(cylinder2);\n    this.threeDimMeshes.push(cylinder3);\n    this.threeDimMeshes.push(cylinder4);\n  }\n}\n","import Furnishing from \"./furnishing\"\nimport { MeshPhongMaterial, Color, BoxGeometry, CylinderGeometry, Mesh } from 'three';\nimport linesTexture from './linestexture';\n\nexport default class NightStand extends Furnishing {\n  clone(colors,brighten=false) {\n    return new NightStand(this.objVal(),colors,brighten);\n  }\n\n  constructor(furnishing,colors,brighten=false) {\n    super(furnishing,colors,brighten);\n    let scale = 1.5;\n\n    const material = new MeshPhongMaterial({map: linesTexture, color: new Color(this.red/255,this.green/255,this.blue/255)});\n    \n    const cube = new Mesh( new BoxGeometry(0.3*scale,0.4*scale,0.3*scale),material);\n    cube.position.set(0.0,-0.1*scale+1.0*scale,0.0)\n\n    let cylinder1 = new Mesh( new CylinderGeometry( 0.02*scale,0.02*scale,0.6*scale,25 ),\n      material ) \n    cylinder1.position.set(-0.13*scale,0.4*scale,0.13*scale)\n    \n    let cylinder2 = new Mesh( new CylinderGeometry( 0.02*scale,0.02*scale,0.6*scale,25 ),\n      material ) \n    cylinder2.position.set(0.13*scale,0.4*scale,0.13*scale)\n    \n    let cylinder3 = new Mesh( new CylinderGeometry( 0.02*scale,0.02*scale,0.6*scale,25 ),\n      material ) \n    cylinder3.position.set(-0.13*scale,0.4*scale,-0.13*scale)\n\n    \n    let cylinder4 = new Mesh( new CylinderGeometry( 0.02*scale,0.02*scale,0.6*scale,25 ),\n      material )\n    cylinder4.position.set(0.13*scale,0.4*scale,-0.13*scale)\n\n    \n    this.threeDimMeshes.push(cube);\n    this.threeDimMeshes.push(cylinder1);\n    this.threeDimMeshes.push(cylinder2);\n    this.threeDimMeshes.push(cylinder3);\n    this.threeDimMeshes.push(cylinder4);\n  }\n}\n","import Furnishing from \"./furnishing\"\nimport { MeshPhongMaterial, Color, BoxGeometry, CylinderGeometry, Mesh } from 'three';\nimport dirtTexture from './dirttexture';\n\nexport default class Sofa extends Furnishing {\n\n  clone(colors,brighten=false) {\n    return new Sofa(this.objVal(),colors,brighten);\n  }\n\n  constructor(furnishing,colors,brighten=false) {\n    super(furnishing,colors,brighten);\n\n    let scale = 1.45;\n    const material = new MeshPhongMaterial({map: dirtTexture, color: new Color(this.red/255,this.green/255,this.blue/255)});\n    \n    const cube = new Mesh( new BoxGeometry(0.8*scale,0.35*scale,2.5*scale),material);\n    cube.position.set(0.0,-0.1*scale+0.6*scale-0.15*scale+0.05*scale,0.0)\n\n    let backing = new Mesh(new BoxGeometry( 0.2*scale, 0.8*scale, 2.5*scale),material);\n    backing.position.set(0.375*scale,1*scale-0.15*scale+0.05*scale,0.0)\n    backing.rotation.z = -0.2\n\n    let armrest1 = new Mesh( new BoxGeometry( 0.6*scale, 0.5*scale, 0.1*scale),material);\n    armrest1.position.set(0.0,0.7*scale-0.15*scale+0.05*scale,1.2*scale);\n\n    let armrest2 = new Mesh( new BoxGeometry( 0.6*scale, 0.5*scale, 0.1*scale),material);\n    armrest2.position.set(0.0,0.7*scale-0.15*scale+0.05*scale,-1.2*scale);\n\n\n    let cylinder1 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.2*scale,25 ),\n      material ) \n    cylinder1.position.set(-0.3*scale,0.2*scale,1.0*scale)\n    \n    let cylinder2 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.2*scale,25 ),\n      material ) \n    cylinder2.position.set(0.3*scale,0.2*scale,1.0*scale)\n    \n    let cylinder3 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.2*scale,25 ),\n      material ) \n    cylinder3.position.set(-0.3*scale,0.2*scale,-1.0*scale)\n\n    \n    let cylinder4 = new Mesh( new CylinderGeometry( 0.1*scale,0.1*scale,0.2*scale,25 ),\n      material )\n    cylinder4.position.set(0.3*scale,0.2*scale,-1.0*scale)\n\n    \n    this.threeDimMeshes.push(cube);\n    this.threeDimMeshes.push(cylinder1);\n    this.threeDimMeshes.push(cylinder2);\n    this.threeDimMeshes.push(cylinder3);\n    this.threeDimMeshes.push(cylinder4);\n    this.threeDimMeshes.push(backing);\n    this.threeDimMeshes.push(armrest1);\n    this.threeDimMeshes.push(armrest2);\n  }\n}\n","import Furnishing from \"./furnishing\"\nimport { MeshPhongMaterial, Color, BoxGeometry, CylinderGeometry, Mesh } from 'three';\nimport linesTexture from './linestexture';\n\nexport default class BookCase extends Furnishing {\n\n  clone(colors,brighten = false) {\n    return new BookCase(this.objVal(),colors,brighten);\n  }\n\n  constructor(furnishing,colors,brighten = false) {\n    super(furnishing,colors,brighten);\n\n    const material = new MeshPhongMaterial({map: linesTexture, color: new Color(this.red/255,this.green/255,this.blue/255)});\n    \n    const box1 = new Mesh( new BoxGeometry(1.2,0.1,0.9),material);\n    box1.position.set(0.0,0.05+0.15,0.0)\n\n    const box2 = new Mesh( new BoxGeometry(1.2,0.1,0.9),material);\n    box2.position.set(0.0,0.05+0.49+0.15,0.0)\n    \n    const box3 = new Mesh( new BoxGeometry(1.2,0.1,0.9),material);\n    box3.position.set(0.0,0.05+2*0.49+0.15,0.0)\n\n    const box4 = new Mesh( new BoxGeometry(1.2,0.1,0.9),material);\n    box4.position.set(0.0,0.05+3*0.49+0.15,0.0)\n\n    const box5 = new Mesh( new BoxGeometry(1.2,0.1,0.9),material);\n    box5.position.set(0.0,0.05+4*0.49+0.15,0.0)\n\n    const box6 = new Mesh( new BoxGeometry(1.2,0.1,0.9),material);\n    box6.position.set(0.0,0.05+5*0.49+0.15,0.0)\n\n    const box7 = new Mesh( new BoxGeometry(1.2,5*0.49+0.1,0.1),material);\n    box7.position.set(0.0,2.5*0.49+0.05+0.15,-0.4)\n    \n    const box8 = new Mesh( new BoxGeometry(0.1,5*0.49+0.1,0.9),material);\n    box8.position.set(-0.58,2.5*0.49+0.05+0.15,0.0)\n\n    const box9 = new Mesh( new BoxGeometry(0.1,5*0.49+0.1,0.9),material);\n    box9.position.set(0.58,2.5*0.49+0.05+0.15,0.0)\n\n    this.threeDimMeshes.push(box1);\n    this.threeDimMeshes.push(box2);\n    this.threeDimMeshes.push(box3);\n    this.threeDimMeshes.push(box4);\n    this.threeDimMeshes.push(box5);\n    this.threeDimMeshes.push(box6);\n    this.threeDimMeshes.push(box7);\n    this.threeDimMeshes.push(box8);\n    this.threeDimMeshes.push(box9);\n  }\n}\n","import { combineReducers } from \"redux\";\nimport roomReducer from \"./roomReducer\";\nimport fileReducer from \"./fileReducer\";\nimport lockReducer from \"./lockReducer\";\nimport modeReducer from \"./modeReducer\";\nimport undoReducer from \"./undoReducer\";\nimport redoReducer from \"./redoReducer\";\n\nconst rootReducer = combineReducers({\n  room: roomReducer,\n  file: fileReducer,\n  lock: lockReducer,\n  mode: modeReducer,\n  undo: undoReducer,\n  redo: redoReducer\n});\n\nexport default rootReducer;\n","import Table from '../furnishings/table';\nimport LongTable from '../furnishings/longtable';\nimport Stool from '../furnishings/stool';\nimport Chair from '../furnishings/chair';\nimport Bed from '../furnishings/bed';\nimport Dresser from '../furnishings/dresser';\nimport Desk from '../furnishings/desk';\nimport NightStand from '../furnishings/nightstand';\nimport Sofa from '../furnishings/sofa';\nimport BookCase from '../furnishings/bookcase';\nimport uuid from 'uuid/v4';\n\n\nexport default function roomReducer(state = [], action) {\n  switch(action.type) {\n    case 'ADD_FURNISHING':\n      switch(action.name) {\n        case 'bed':\n          let bed = new Bed({id:uuid(),type:\"bed\",posx:0.0,posz:0.0,theta:0.0,params:\"\",roomId:1,colorName:action.colorName},action.colors);\n          bed.renderFurnishing(action.renderer,action.camera,action.scene);\n          if(action.socket) {\n            action.socket.emit(\"createFurnishing\",{furnishing:bed.objVal()});\n          }\n          return [...state,bed];\n        case 'chair':\n          let chair = new Chair({id:uuid(),type:\"chair\",posx:0.0,posz:0.0,theta:0.0,params:\"\",roomId:1,colorName:action.colorName},action.colors);\n          chair.renderFurnishing(action.renderer,action.camera,action.scene);\n          if(action.socket) {\n            action.socket.emit(\"createFurnishing\",{furnishing:chair.objVal()});\n          }\n          return [...state,chair];\n        case 'desk':\n          let desk = new Desk({id:uuid(),type:\"desk\",posx:0.0,posz:0.0,theta:0.0,params:\"\",roomId:1,colorName:action.colorName},action.colors);\n          desk.renderFurnishing(action.renderer,action.camera,action.scene);\n          if(action.socket) {\n            action.socket.emit(\"createFurnishing\",{furnishing:desk.objVal()});\n          }\n          return [...state,desk];\n        case 'table':\n          let table = new Table({id:uuid(),type:\"table\",posx:0.0,posz:0.0,theta:0.0,params:\"\",roomId:1,colorName:action.colorName},action.colors);\n          table.renderFurnishing(action.renderer,action.camera,action.scene);\n          if(action.socket) {\n            action.socket.emit(\"createFurnishing\",{furnishing:table.objVal()});\n          }\n          return [...state,table];\n        case 'bookcase':\n          let bookcase = new BookCase({id:uuid(),type:\"bookcase\",posx:0.0,posz:0.0,theta:0.0,params:\"\",roomId:1,colorName:action.colorName},action.colors);\n          bookcase.renderFurnishing(action.renderer,action.camera,action.scene);\n          if(action.socket) {\n            action.socket.emit(\"createFurnishing\",{furnishing:bookcase.objVal()});\n          }\n          return [...state,bookcase];\n        case 'dresser':\n          let dresser = new Dresser({id:uuid(),type:\"dresser\",posx:0.0,posz:0.0,theta:0.0,params:\"\",roomId:1,colorName:action.colorName},action.colors);\n          dresser.renderFurnishing(action.renderer,action.camera,action.scene);\n          if(action.socket) {\n            action.socket.emit(\"createFurnishing\",{furnishing:dresser.objVal()});\n          }\n          return [...state,dresser];\n        case 'longtable':\n          let longtable = new LongTable({id:uuid(),type:\"longtable\",posx:0.0,posz:0.0,theta:0.0,params:\"\",roomId:1,colorName:action.colorName},action.colors);\n          longtable.renderFurnishing(action.renderer,action.camera,action.scene);\n          if(action.socket) {\n            action.socket.emit(\"createFurnishing\",{furnishing:longtable.objVal()});\n          } \n          return [...state,longtable];\n        case 'nightstand':\n          let nightstand = new NightStand({id:uuid(),type:\"nightstand\",posx:0.0,posz:0.0,theta:0.0,params:\"\",roomId:1,colorName:action.colorName},action.colors);\n          nightstand.renderFurnishing(action.renderer,action.camera,action.scene);\n          if(action.socket) {\n            action.socket.emit(\"createFurnishing\",{furnishing:nightstand.objVal()});\n          } \n          return [...state,nightstand];\n        case 'sofa':\n          let sofa = new Sofa({id:uuid(),type:\"sofa\",posx:0.0,posz:0.0,theta:0.0,params:\"\",roomId:1,colorName:action.colorName},action.colors);\n          sofa.renderFurnishing(action.renderer,action.camera,action.scene);\n          if(action.socket) {\n            action.socket.emit(\"createFurnishing\",{furnishing:sofa.objVal()});\n          }\n          return [...state,sofa];\n        case 'stool':\n          let stool = new Stool({id:uuid(),type:\"stool\",posx:0.0,posz:0.0,theta:0.0,params:\"\",roomId:1,colorName:action.colorName},action.colors);\n          stool.renderFurnishing(action.renderer,action.camera,action.scene);\n          if(action.socket) {\n            action.socket.emit(\"createFurnishing\",{furnishing:stool.objVal()});\n          }\n          return [...state,stool];\n        default:\n          break;\n      }\n      return state;\n    case 'ADD_FURNISHING_FROM_OBJECT':\n      switch(action.obj.type) {\n        case 'bed':\n          let bed = new Bed(action.obj,action.colors);\n          bed.renderFurnishing(action.renderer,action.camera,action.scene);\n          return [...state, bed];\n        case 'chair':\n          let chair = new Chair(action.obj,action.colors);\n          chair.renderFurnishing(action.renderer,action.camera,action.scene);\n          return [...state, chair]\n        case 'desk':\n          let desk = new Desk(action.obj,action.colors);\n          desk.renderFurnishing(action.renderer,action.camera,action.scene);\n          return [...state, desk]\n        case 'table':\n          let table = new Table(action.obj,action.colors);\n          table.renderFurnishing(action.renderer,action.camera,action.scene);\n          return [...state, table]\n        case 'bookcase':\n          let bookcase = new BookCase(action.obj,action.colors);\n          bookcase.renderFurnishing(action.renderer,action.camera,action.scene);\n          return [...state, bookcase]\n        case 'dresser':\n          let dresser = new Dresser(action.obj,action.colors);\n          dresser.renderFurnishing(action.renderer,action.camera,action.scene);\n          return [...state, dresser]\n        case 'longtable':\n          let longtable =  new LongTable(action.obj,action.colors);\n          longtable.renderFurnishing(action.renderer,action.camera,action.scene);\n          return [...state, longtable]\n        case 'nightstand':\n          let nightstand = new NightStand(action.obj,action.colors);\n          nightstand.renderFurnishing(action.renderer,action.camera,action.scene);\n          return [...state, nightstand]\n        case 'sofa':\n          let sofa = new Sofa(action.obj,action.colors);\n          sofa.renderFurnishing(action.renderer,action.camera,action.scene);\n          return [...state, sofa]\n        case 'stool':\n          let stool = new Stool(action.obj,action.colors);\n          stool.renderFurnishing(action.renderer,action.camera,action.scene);\n          return [...state, stool]\n        default:\n          break;\n      }\n      return state;\n    case 'DELETE_FURNISHING':\n      var anotherFurnishingToDelete = state.find( furnishing => furnishing.id === action.furnishingId );\n      if(anotherFurnishingToDelete) {\n        anotherFurnishingToDelete.dispose();\n      }\n      return state.filter( furnishing => furnishing.id !== action.furnishingId );\n    case 'ROOM_LOGOUT':\n      for(var i = 0; i < state.length; i++) {\n        state[i].dispose();\n      }\n      return [];\n\n    case 'REMOVE_ALL_FURNISHINGS':\n      for(var j = 0; j < state.length; j++) {\n        state[j].dispose();\n      }\n      return []\n    default:\n      return state;\n  }\n}\n","\nexport default function fileReducer(state = {amOwner:false,roomProperties:null,availableRooms:null}, action) {\n  switch(action.type) {\n    case 'SET_IS_OWNER':\n      return {...state, amOwner: action.val};\n    case 'SET_ROOM_PROPERTIES':\n      return {...state, roomProperties: {...action.roomProperties}}\n    case 'SET_AVAILABLE_ROOMS':\n      return {...state, availableRooms: {...action.rooms}}\n    case 'RESET_FILE':\n      return {...state,amOwner:false,roomProperties:null};\n    case 'FILE_LOGOUT':\n      return {amOwner:false,roomProperties:null,availableRooms:null};\n    default:\n      return state\n  }\n}\n","\nexport default function lockReducer(state = {lockRequested:false,mouseDown:false,lockObtained:false,furnishingId:null,mousex:null,mousey:null}, action) {\n  switch(action.type) {\n    case \"SET_FURNISHING\":\n      return {...state, furnishingId: action.furnishingId};\n    case \"UN_LOCK\":\n      return {lockRequested:false,dragging:false,lockObtained:false,furnishingId:null,mousex:null,mousey:null};\n    case \"SET_LOCK_REQUESTED\":\n      return {...state, lockRequested: true};\n    case \"SET_LOCK_APPROVED\":\n      return {...state, lockObtained:true};\n    case \"SET_MOUSE_DOWN\":\n      return {...state, mouseDown: true, mousex: action.mousex, mousey: action.mousey};\n    case \"UN_SET_MOUSE_DOWN\":\n      return {...state, mouseDown: false};\n    case \"LOCK_LOGOUT\":\n      return {lockRequested:false,mouseDown:false,lockObtained:false,furnishingId:null,mousex:null,mousey:null};\n    default:\n      return state\n  }\n}\n","export default function modeReducer(state = {mode:\"move\",colorName:\"green\"}, action) {\n  switch(action.type) {\n    case \"SET_MODE\":\n      return {...state, mode: action.mode}\n    case \"SET_COLOR\":\n      return {...state, colorName:action.colorName}\n    case \"MODE_LOGOUT\":\n      return {mode:\"move\",colorName:\"green\"};\n    default:\n      return state\n  }\n}\n","export default function undoReducer( state = [], action ) {\n  switch (action.type) {\n    case \"PUSH_TO_UNDO_STACK\":\n      return [...state, action.stateToPush];\n    case \"POP_UNDO_STACK\":\n      let newState = [...state];\n      newState.pop();\n      return newState;\n    case \"CLEAR_UNDO_STACK\":\n      return [];\n    default:\n      return state;\n  }\n}\n","export default function redoReducer( state = [], action ) {\n  switch (action.type) {\n    case \"PUSH_TO_REDO_STACK\":\n      return [...state, action.stateToPush];\n    case \"POP_REDO_STACK\":\n      let newState = [...state];\n      newState.pop();\n      return newState;\n    case \"CLEAR_REDO_STACK\":\n      return [];\n    default:\n      return state;\n  }\n}\n","import React from 'react';\nimport '../App.css';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nexport default class FormButton extends React.Component {\n  render() {\n    let setColor = true;\n    if(this.props.style && (this.props.style.backgroundColor === \"yellow\")) {\n      setColor = false;\n    }\n    return (\n      <form style={{display:\"inline\"}} onSubmit={e => {e.preventDefault();this.props.handleSubmit(e);e.target.reset();}}>\n        <button  title={this.props.value} style={{...this.props.style, backgroundColor: ( setColor ? \"#ff9d00\" : this.props.style.backgroundColor )}} type=\"submit\">{this.props.icon ? <SvgIcon>{this.props.icon}</SvgIcon> : this.props.value}</button>\n      </form>\n    );\n  }\n}\n","const apiurl = ( (!window.location.href.includes(\"localhost\")) ? \"https://spaceplanner3d.herokuapp.com\" : \"http://localhost:8000\" );\n\nexport default apiurl;\n","import React from 'react';\nimport '../App.css';\nimport FormButton from '../components/formbutton';\nimport apiurl from '../constants/apiurl';\n\nexport default class Signup extends React.Component {\n\n  state = { err: \"\" }\n\n  componentDidMount() {\n    fetch(`${apiurl}/api/loggedin`,{method:'GET',credentials:'include'})\n    .then( res => res.json() )\n    .then( data => {\n      if(data.status.includes(\"Logged in as \")) {\n        this.props.history.push(\"/main\");\n      }\n    });\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    let username = this.props.alphanumericFilter(document.querySelector(\"#username\").value);\n    let password = this.props.alphanumericFilter(document.querySelector(\"#password\").value);\n    let confirmPassword = this.props.alphanumericFilter(document.querySelector(\"#confirmPassword\").value);\n\n    if( (!username) || (!password) || (!confirmPassword) ) {\n      this.setState({err:\"Username and password must be alphanumeric.\"})\n      return;\n    }\n\n    fetch(`${apiurl}/api/${username}/exists`,{method:'GET',credentials:'include'})\n    .then(res=>res.json())\n    .then( data => {\n      if(data.status === \"user exists\") {\n        this.setState({err:\"Username already taken\"})\n      } else {\n        if(password !== confirmPassword) {\n          this.setState({err: \"Passwords must match\"});\n        } else {\n          fetch(`${apiurl}/api/users`,{method:\"POST\",\n            headers: {\"Content-type\":\"application/json\"},\n            credentials:'include',\n            body: JSON.stringify({ username:username, password: password })\n          }).then(res=>res.json())\n          .then( response => {\n            if(response.success) {\n              fetch(`${apiurl}/api/login`, {method:\"POST\",\n                headers:{\"Content-type\":\"application/json\"},\n                credentials:'include',\n                body:JSON.stringify({username:username,password:password})\n              }).then(\n                () => this.props.history.push(\"/main\")\n              );\n            } else {\n              this.setState({err:\"Could not create user\"});\n            }\n          });\n        }\n      }\n    });\n\n  }\n\n  render() {\n    return (\n      <div style={{width:\"100%\",paddingLeft:\"50px\",paddingTop:\"20px\"}}>\n        <FormButton value=\"Return to Login\" handleSubmit={() => this.props.history.push(\"/\")} />\n        <form onSubmit={this.handleSubmit}>\n          <p>Username: <input type=\"text\" id=\"username\" /></p>\n          <p>Password: <input type=\"password\" id=\"password\" /></p>\n          <p>Confirm Password: <input type=\"password\" id=\"confirmPassword\" /></p>\n          <p style={{color:\"red\"}}><b>{this.state.err}</b></p>\n          <p><button type=\"submit\">Submit</button></p>\n        </form>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport '../App.css';\n\nexport default class Modal extends React.Component {\n\n  constructor() {\n    super();\n    this.style = {boxShadow:\"5px 5px 5px gray\",position:'absolute',margin:'auto',left:\"200px\",top:\"200px\",width:'400px',backgroundColor:'white',borderStyle:'solid',zIndex:1,padding:\"12px\"};\n  }\n\n  render() {\n    return (\n      <div></div>\n    );\n  }\n}\n","import React from 'react';\nimport '../App.css';\nimport FormButton from '../components/formbutton';\nimport KeyboardArrowUp from '@material-ui/icons/KeyboardArrowUp';\nimport KeyboardArrowDown from '@material-ui/icons/KeyboardArrowDown';\nimport Modal from './modal';\nimport AccountBox from '@material-ui/icons/AccountBox';\nimport DirectionsWalk from '@material-ui/icons/DirectionsWalk';\nimport DeleteForever from '@material-ui/icons/DeleteForever';\nimport Create from '@material-ui/icons/Create';\nimport FolderOpen from '@material-ui/icons/FolderOpen';\nimport PersonAdd from '@material-ui/icons/PersonAdd';\nimport Help from '@material-ui/icons/Help';\nimport PanTool from '@material-ui/icons/PanTool';\nimport RotateLeft from '@material-ui/icons/RotateLeft';\nimport AddCircle from '@material-ui/icons/AddCircle';\nimport Delete from '@material-ui/icons/Delete';\nimport ColorLens from '@material-ui/icons/ColorLens';\nimport ThreeSixty from '@material-ui/icons/ThreeSixty';\nimport BorderOuter from '@material-ui/icons/BorderOuter';\nimport CameraAlt from '@material-ui/icons/CameraAlt';\nimport CenterFocusStrong from '@material-ui/icons/CenterFocusStrong';\nimport Undo from '@material-ui/icons/Undo';\nimport Redo from '@material-ui/icons/Redo';\n\nexport default class HelpModal extends Modal {\n  constructor() {\n    super();\n    this.iconStyle = {verticalAlign:\"middle\",margin:\"10px\"}\n  }\n\n  render() {\n    return (\n      <div style={{...this.style,left:\"100px\",top:\"50px\",width:'600px'}}>\n        <div id=\"helpDiv\" style={{height:\"450px\",overflow:\"scroll\"}}>\nThe purpose of this app is to assist in the process of prototyping the \ndesign and layout of a room's interior space. The app is purely web-based;\nchanges are saved automatically at all times, and several users can collaborate on\nthe same room simultaneously.\n<h4>Action Guide</h4>\n<ul style={{listStyle:\"none\"}}>\n<li><DirectionsWalk style={this.iconStyle} />Logout</li>\n<li><Help style={this.iconStyle} />Open this help box</li>\n<li><AccountBox style={this.iconStyle} />Manage Account</li>\n<li><Create style={this.iconStyle} />Create New Room</li>\n<li><FolderOpen style={this.iconStyle} />Open a Room</li>\n<li><PersonAdd style={this.iconStyle} /><em>(if owner)</em> Invite a user to collaborate on this room</li>\n<li><DeleteForever style={this.iconStyle} /><em>(if owner)</em> Delete this room <em>permanently</em></li>\n<li><Undo style={this.iconStyle} />Undo the previous action</li>\n<li><Redo style={this.iconStyle} />Redo</li>\n<li><PanTool style={this.iconStyle} /><em>(when selected)</em> Move an item via drag and drop</li>\n<li><RotateLeft style={this.iconStyle} /><em>(when selected)</em> Rotate an item via drag and drop</li>\n<li><AddCircle style={this.iconStyle} /><em>(when selected)</em> Add an item to the room</li>\n<li><Delete style={this.iconStyle} /><em>(when selected)</em> Delete an item by clicking on it</li>\n<li><ColorLens style={this.iconStyle} /><em>(when selected)</em> Change the color of an item</li>\n<li><CameraAlt style={this.iconStyle} />Reset the camera view</li>\n<li><CenterFocusStrong style={this.iconStyle} /><em>(when selected)</em> Move the camera view</li>\n<li><ThreeSixty style={this.iconStyle} /><em>(when selected)</em> Rotate the camera view</li>\n<li><BorderOuter style={this.iconStyle} />Overhead view</li>\n</ul>\n        </div>\n        <FormButton icon={<KeyboardArrowUp />} value=\"Up\" handleSubmit={() => (document.querySelector(\"#helpDiv\").scrollTop -= 100)} />\n        <FormButton icon={<KeyboardArrowDown />} value=\"Down\" handleSubmit={() => (document.querySelector(\"#helpDiv\").scrollTop += 100)} />\n        <FormButton value=\"OK\" handleSubmit={this.props.okCallback} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport '../App.css';\nimport FormButton from '../components/formbutton';\nimport Modal from './modal';\n\nexport default class AddModal extends Modal {\n  constructor() {\n    super();\n    this.furnishingObj = {\n      \"bed\" : \"Bed\",\n      \"bookcase\" : \"Book Case\",\n      \"chair\" : \"Chair\",\n      \"desk\" : \"Desk\",\n      \"dresser\" : \"Dresser\",\n      \"longtable\" : \"Long Table\",\n      \"nightstand\" : \"Night Stand\",\n      \"sofa\" : \"Sofa\",\n      \"stool\" : \"Stool\",\n      \"table\" : \"Table\"\n    };\n  }\n\n  render() {\n    return (\n      <div style={this.style}>\n        <p>Choose furnishing to add:</p>\n        <p>\n        {\n          <select id=\"furnishingSelect\" onChange={e => e.preventDefault()}>\n          <option value=\"-1\">Select a furnishing...</option>\n          {\n            Object.keys(this.furnishingObj).map(\n              key => {\n                return ( <option value={key}>{this.furnishingObj[key]}</option> );\n              }\n            )\n          }\n          </select>\n        }\n        </p>\n        <FormButton value=\"Cancel\" handleSubmit={this.props.cancelCallback} />\n        <FormButton value=\"OK\" handleSubmit={() => this.props.okCallback(document.querySelector(\"#furnishingSelect\").value)} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport '../App.css';\nimport FormButton from './formbutton';\nimport Delete from '@material-ui/icons/Delete';\nimport RotateLeft from '@material-ui/icons/RotateLeft';\nimport ColorLens from '@material-ui/icons/ColorLens';\nimport PanTool from '@material-ui/icons/PanTool';\nimport AddCircle from '@material-ui/icons/AddCircle';\nimport AddModal from '../modals/addmodal';\n\nclass ModeToolbar extends React.Component {\n  state = { modal : null };\n\n  onMoveClick = () => {\n    this.props.setMode(\"move\")\n  }\n\n  onRotateClick = () => {\n    this.props.setMode(\"rotate\")\n  }\n\n\n  onDeleteClick = () => {\n    this.props.setMode(\"delete\");\n  }\n\n  onColorClick = () => {\n    this.props.setMode(\"color\")\n  }\n\n  handleColorChange = event => {\n    event.preventDefault();\n    this.props.setColor(event.target.value)\n  }\n\n  render() {\n    return (\n      <>\n      {\n        this.state.modal === \"add\"\n        ?\n        <AddModal cancelCallback={() => this.setState({modal:null})} okCallback={name => {this.props.pushRoomToUndoStack();this.props.clearRedoStack();this.props.addFurnishing(name,this.props.socket,this.props.colors,this.props.mode.colorName,this.props.renderer(),this.props.camera(),this.props.scene());this.setState({modal:null})}} />\n        :\n        null\n      }\n      <span>\n        <FormButton style={{backgroundColor: (this.props.mode.mode === \"move\" ? \"yellow\" : \"\" )}} value=\"Move\" icon={<PanTool />} handleSubmit={() => this.onMoveClick()} />\n        <FormButton icon={<RotateLeft />} style={{backgroundColor: (this.props.mode.mode === \"rotate\" ? \"yellow\" : \"\" )}} value=\"Rotate\" handleSubmit={() => this.onRotateClick()} />\n        <FormButton icon={<AddCircle />} value=\"Add furnishing\" handleSubmit={() => this.setState({modal:\"add\"})} />\n        <FormButton icon={<Delete />} style={{backgroundColor: (this.props.mode.mode === \"delete\" ? \"yellow\" : \"\" )}} value=\"Delete\" handleSubmit={() => this.onDeleteClick()} />\n        <FormButton style={{backgroundColor: (this.props.mode.mode === \"color\" ? \"yellow\" : \"\" )}} value=\"Color\" icon={<ColorLens />} handleSubmit={() => this.onColorClick()} />\n        <select value={this.props.mode.colorName} onChange={this.handleColorChange}>\n          {\n            Object.keys(this.props.colors).map(\n              key => {\n                return  (<option>{this.props.alphanumericFilter(key)}</option>);\n              }\n            )\n          }\n        </select>\n      </span>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    mode: state.mode\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setMode : mode => dispatch({type:\"SET_MODE\",mode:mode}),\n    setColor: colorName => dispatch({type:\"SET_COLOR\",colorName:colorName}),\n    addFurnishing: (name,socket,colors,colorName,renderer,camera,scene) => dispatch( {type:\"ADD_FURNISHING\",name:name,socket:socket,colors:colors,colorName:colorName,renderer:renderer,camera:camera,scene:scene} ),\n    clearRedoStack : () => dispatch({type:\"CLEAR_REDO_STACK\"})\n  };\n};\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ModeToolbar);\n","import React from 'react';\nimport '../App.css';\nimport FormButton from '../components/formbutton';\nimport Modal from './modal';\n\nexport default class NewModal extends Modal {\n  render() {\n    return (\n      <div style={this.style}>\n        <p>Enter room name <span style={{color:\"red\"}}><b>(alphanumeric only, no spaces)</b></span>, and size from 1 to 10:</p>\n        <p><input type=\"text\" id=\"roomName\" placeholder=\"Room name\" />\n        <input type=\"text\" id=\"roomSize\" placeholder=\"Room size\" /></p>\n        <FormButton value=\"Cancel\" handleSubmit={this.props.cancelCallback} />\n        <FormButton value=\"OK\" handleSubmit={() => this.props.okCallback(document.querySelector(\"#roomName\").value,\n          document.querySelector(\"#roomSize\").value)} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport '../App.css';\nimport FormButton from '../components/formbutton';\nimport Modal from './modal';\n\nexport default class ErrorModal extends Modal {\n  render() {\n    return (\n      <div style={this.style}>\n        <p>{this.props.message}</p>\n        <FormButton value=\"OK\" handleSubmit={this.props.callback} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport '../App.css';\nimport FormButton from '../components/formbutton';\nimport Modal from './modal';\n\nexport default class OpenModal extends Modal {\n  render() {\n    return (\n      <div style={this.style}>\n        <p>Choose room to open:</p>\n        <p>\n        {\n          <select id=\"openSelect\" onChange={e => e.preventDefault()}>\n          <option value=\"-1\">Select a room...</option>\n          {\n            Object.keys(this.props.availableRooms).map(\n              key => {\n                let room = this.props.availableRooms[key]\n                return ( <option value={this.props.alphanumericFilter(room.id)}>{this.props.alphanumericFilter(room.name)}</option> );\n              }\n            )\n          }\n          </select>\n        }\n        </p>\n        <FormButton value=\"Cancel\" handleSubmit={this.props.cancelCallback} />\n        <FormButton value=\"OK\" handleSubmit={() => this.props.okCallback(document.querySelector(\"#openSelect\").value)} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport '../App.css';\nimport FormButton from '../components/formbutton';\nimport Modal from './modal';\n\nexport default class InviteModal extends Modal {\n  render() {\n    return (\n      <div style={this.style}>\n        <p>Enter username of user to invite:</p>\n        <p><input type=\"text\" id=\"invitee\" placeholder=\"User's username\" /></p>\n        <FormButton value=\"Cancel\" handleSubmit={this.props.cancelCallback} />\n        <FormButton value=\"OK\" handleSubmit={() => this.props.okCallback(document.querySelector(\"#invitee\").value)} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport '../App.css';\nimport FormButton from '../components/formbutton';\nimport Modal from './modal';\n\nexport default class ConfirmModal extends Modal {\n  render() {\n    return (\n      <div style={this.style}>\n        <p>{this.props.message}</p>\n        <FormButton value=\"Cancel\" handleSubmit={this.props.cancelCallback} />\n        <FormButton value=\"OK\" handleSubmit={this.props.okCallback} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport '../App.css';\nimport FormButton from './formbutton';\nimport NewModal from '../modals/newmodal';\nimport ErrorModal from '../modals/errormodal';\nimport OpenModal from '../modals/openmodal';\nimport InviteModal from '../modals/invitemodal';\nimport ConfirmModal from '../modals/confirmmodal';\nimport DeleteForever from '@material-ui/icons/DeleteForever';\nimport Create from '@material-ui/icons/Create';\nimport FolderOpen from '@material-ui/icons/FolderOpen';\nimport PersonAdd from '@material-ui/icons/PersonAdd';\nimport apiurl from '../constants/apiurl';\n\nclass FileToolbar extends React.Component {\n\n  state = { modal: null, errMsg: \"\" };\n\n  setError = msg => {\n    this.setState({modal:\"error\",errMsg:msg});\n  }\n\n\n\n\n  inviteToRoom = (inputVal) => {\n    this.setState({modal:null});\n    let username = this.props.alphanumericFilter(inputVal);\n    if(username) {\n      fetch(`${apiurl}/api/UserRooms`, {method:\"POST\",\n        headers:{\"Content-Type\":\"application/json\"},\n        credentials:'include',\n        body: JSON.stringify( {recipientUsername: username, roomId: this.props.alphanumericFilter(this.props.roomProperties.id)} ) } )\n      .catch( () => { this.setError(\"Could not invite user\"); } );\n    } else {\n      this.setError(\"Could not invite user\");\n    }\n  }\n\n  deleteRoom = () => {\n    this.setState({modal:null});\n    fetch(`${apiurl}/api/rooms/${this.props.alphanumericFilter(this.props.roomProperties.id)}`,{method:'DELETE',credentials:'include'})\n    .then( () => { \n      this.props.socket.emit(\"roomDeleted\");\n      this.props.resetFile();\n      this.props.disposeAllFurnishings(true);\n      this.props.clearUndoStack();\n      this.props.clearRedoStack();\n    } )\n    .catch( () => { this.setError(\"Error deleting room\") } )\n  }\n\n  render() {\n    return ( \n      <>\n      {\n        this.state.modal === \"new\"\n        ?\n        <NewModal okCallback={(roomName,roomSize) => {this.setState({modal:null});this.props.newRoom(roomName,roomSize);}} cancelCallback={() => this.setState({modal:null})} />\n        :\n        null\n      }\n      {\n        this.state.modal === \"error\"\n        ?\n        <ErrorModal message={this.state.errMsg} callback={() => this.setState({modal:null})} />\n        :\n        null\n      }\n      {\n        this.state.modal === \"open\"\n        ?\n        <OpenModal alphanumericFilter={this.props.alphanumericFilter} availableRooms={this.props.availableRooms || {}} okCallback={(inputVal) => {this.setState({modal:null});this.props.openRoom(inputVal);}} cancelCallback={() => this.setState({modal:null})} />\n        :\n        null\n      }\n      {\n        this.state.modal === \"invite\"\n        ?\n        <InviteModal okCallback={this.inviteToRoom} cancelCallback={() => this.setState({modal:null})} />\n        :\n        null\n      }\n      {\n        this.state.modal === \"delete\"\n        ?\n        <ConfirmModal message={\"Permanently delete this room?\"} cancelCallback={() => this.setState({modal:null})} okCallback={() => this.deleteRoom()} />\n        :\n        null\n      }\n    <span>\n      <FormButton value=\"New\" icon={<Create />} handleSubmit={() => this.setState({modal:\"new\"})} />\n      \n      { this.props.availableRooms ? <FormButton value=\"Open\" icon={<FolderOpen />} handleSubmit={() => this.setState({modal:\"open\"})} /> : null }\n      { this.props.roomProperties && this.props.amOwner ? <FormButton value=\"Invite\" icon={<PersonAdd />} handleSubmit={() => this.setState({modal:\"invite\"})} /> : null }\n      { this.props.roomProperties && this.props.amOwner ? <FormButton value=\"Delete Room\" icon={<DeleteForever />} handleSubmit={() => this.setState({modal:\"delete\"})} /> : null }\n      \n    </span>\n    </> );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    amOwner: state.file.amOwner,\n    roomProperties: state.file.roomProperties,\n    availableRooms: state.file.availableRooms\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addFurnishingFromObject: (obj,colors,renderer,camera,scene) => dispatch( {type:\"ADD_FURNISHING_FROM_OBJECT\",obj:obj,colors:colors,renderer:renderer,camera:camera,scene:scene} ),\n    setIsOwner: (val) => dispatch({type:\"SET_IS_OWNER\",val:val}),\n    setRoomProperties: (roomProperties) => dispatch({type:\"SET_ROOM_PROPERTIES\",roomProperties:roomProperties}),\n    removeAllFurnishings: () => dispatch({type:\"REMOVE_ALL_FURNISHINGS\"}),\n    resetFile: () => dispatch({type:\"RESET_FILE\"})\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FileToolbar);\n","const width = 800;\n\nexport default width;\n","const height = 600;\n\nexport default height;\n","import width from '../constants/width';\nimport height from '../constants/height';\n\nfunction angle(x,y) {\n  if(x>0) {\n    return Math.atan(y/x);\n  }\n  if((x<0) && (y>0)) {\n    return Math.PI - Math.atan(Math.abs(y/x));\n  }\n  if((x<0)&&(y<0)) {\n    return -Math.PI + Math.atan(y/x);\n  }\n}\n\nexport default function handleMove(pageX,pageY,movementX,movementY) {\n  if(this.props.roomProperties && this.props.lock.furnishingId && this.props.lock.mouseDown) {\n    if(this.props.mode.mode === \"move\") {\n      if(!this.state.overheadView) {\n        let a = this.props.roomProperties.width*movementX/width;\n        let b = this.props.roomProperties.length*movementY/height;\n        let theta = this.state.cameraRotDispY;\n        let diffX = a*Math.cos(theta)+b*Math.sin(theta);\n        let diffZ = -1*a*Math.sin(theta)+b*Math.cos(theta);\n        this.moveX(diffX, this.props.lock.furnishingId);\n        this.moveZ(diffZ, this.props.lock.furnishingId);\n        this.props.socket.emit(\"mouseMoved\", {furnishingId: this.props.lock.furnishingId, diffX:diffX, diffZ:diffZ, diffTheta:0.0});\n      } else {\n        let diffX = this.props.roomProperties.width*movementX/width;\n        let diffZ = this.props.roomProperties.length*movementY/height\n        this.moveX(diffX, this.props.lock.furnishingId);\n        this.moveZ(diffZ, this.props.lock.furnishingId);\n        this.props.socket.emit(\"mouseMoved\", {furnishingId: this.props.lock.furnishingId, diffX:diffX, diffZ:diffZ, diffTheta:0.0});\n      }\n    } else if (this.props.mode.mode === \"rotate\") {\n      let xval = ((pageX-this.renderer.domElement.offsetLeft) / width) * 2 - 1;\n      let yval = -((pageY-this.renderer.domElement.offsetTop) / height) * 2 + 1;\n      let diffx = xval - this.props.lock.mousex;\n      let diffy = yval - this.props.lock.mousey;\n      let dx = movementX / width;\n      let dy = movementY / height;\n      if( (diffx!==0) && (diffy!==0) && (dx!==0) && (dy!==0) ) {\n        let theta1 = angle(diffx,diffy);\n        let theta2 = angle(diffx+dx,diffy-dy);\n        if(Math.abs(theta1-theta2) < Math.PI) {\n          let diffTheta = 3*(theta2-theta1);\n          this.moveTheta( diffTheta, this.props.lock.furnishingId );\n          this.props.socket.emit(\"mouseMoved\", {furnishingId: this.props.lock.furnishingId, diffX:0.0, diffZ:0.0, diffTheta:diffTheta})\n        }\n      }\n    }\n  } else if ( this.props.roomProperties && this.props.lock.mouseDown ) {\n    if( (!this.state.rotatingCameraMode) && (!this.state.overheadView) ) {\n      let a = -this.props.roomProperties.width*movementX/width;\n      let b = -this.props.roomProperties.length*movementY/height;\n      let theta = this.state.cameraRotDispY;\n      this.setState({\n        cameraDispX: this.state.cameraDispX + a*Math.cos(theta) + b*Math.sin(theta),\n        cameraDispZ: this.state.cameraDispZ - a*Math.sin(theta) + b*Math.cos(theta) },\n        () => {\n          this.camera.position.x = 0.0 + this.state.cameraDispX;\n          this.camera.position.y =  this.props.roomProperties.height * 0.5;\n          this.camera.position.z = 0.9*this.props.roomProperties.width/2+ this.state.cameraDispZ;\n          this.camera.rotation.x = 0.0;\n          this.camera.rotation.y = 0.0 + this.state.cameraRotDispY;\n          this.camera.rotation.z = 0.0;\n          this.renderer.render(this.scene,this.camera);\n         } )\n    } else if (!this.state.overheadView) {\n      this.setState({\n        cameraRotDispY: this.state.cameraRotDispY + 5*movementX/width\n      }, () => {\n        this.camera.position.x = 0.0 + this.state.cameraDispX;\n        this.camera.position.y =  this.props.roomProperties.height * 0.5;\n        this.camera.position.z = 0.9*this.props.roomProperties.width/2+ this.state.cameraDispZ;\n        this.camera.rotation.x = 0.0;\n        this.camera.rotation.y = 0.0 + this.state.cameraRotDispY;\n        this.camera.rotation.z = 0.0;\n        this.renderer.render(this.scene,this.camera);\n      });\n    }\n  }\n}\n","import React from 'react';\nimport '../App.css';\nimport { connect } from 'react-redux';\nimport ModeToolbar from './modetoolbar';\nimport FileToolbar from './filetoolbar';\nimport { Scene, Color,WebGLRenderer,Raycaster,PCFSoftShadowMap,PerspectiveCamera,PointLight,AmbientLight } from 'three';\nimport FormButton from './formbutton';\nimport ThreeSixty from '@material-ui/icons/ThreeSixty';\nimport BorderOuter from '@material-ui/icons/BorderOuter';\nimport CameraAlt from '@material-ui/icons/CameraAlt';\nimport Help from '@material-ui/icons/Help';\nimport CenterFocusStrong from '@material-ui/icons/CenterFocusStrong';\nimport Undo from '@material-ui/icons/Undo';\nimport Redo from '@material-ui/icons/Redo';\nimport openRoom from '../helpers/openRoom';\nimport newRoom from '../helpers/newRoom';\nimport rebuildRoom from '../helpers/rebuildRoom';\nimport resetCamera from '../helpers/resetCamera';\nimport handleMove from '../helpers/handleMove';\nimport width from '../constants/width';\nimport height from '../constants/height';\nimport handleDown from '../helpers/handleDown';\nimport handleUp from '../helpers/handleUp';\nimport buildSocketEvents from '../helpers/buildSocketEvents';\nimport removeTransients from '../helpers/removeTransients';\nimport tossGarbage from '../helpers/tossGarbage';\nimport moveX from '../helpers/moveX';\nimport moveZ from '../helpers/moveZ';\nimport moveTheta from '../helpers/moveTheta';\nimport handleMouseMove from '../helpers/handleMouseMove';\nimport handleTouchMove from '../helpers/handleTouchMove';\nimport handleMouseDown from '../helpers/handleMouseDown';\nimport handleTouchStart from '../helpers/handleTouchStart';\nimport handleMouseUp from '../helpers/handleMouseUp';\nimport handleTouchEnd from '../helpers/handleTouchEnd';\nimport disposeAllFurnishings from '../helpers/disposeAllFurnishings';\nimport handleMoveCamera from '../helpers/handleMoveCamera';\nimport handleRotateCamera from '../helpers/handleRotateCamera';\nimport handleOverhead from '../helpers/handleOverhead';\nimport apiurl from '../constants/apiurl';\nimport pushRoomToUndoStack from '../helpers/pushRoomToUndoStack';\nimport pushRoomToRedoStack from '../helpers/pushRoomToRedoStack';\nimport handleUndo from '../helpers/handleUndo';\nimport handleRedo from '../helpers/handleRedo';\nimport loadRoomFromState from '../helpers/loadRoomFromState';\n\n\nclass MainCanvas extends React.Component {\n\n  state = { cameraDispX: 0.0, cameraDispZ: 0.0, cameraRotDispY: 0.0,\n      rotatingCameraMode: false, overheadView: false, roomId: null };\n\n  constructor() {\n    super();\n    this.garbage = []; // everything in here must have a .dispose() method\n  }\n\n  tossGarbage = tossGarbage.bind(this);\n  openRoom = openRoom.bind(this);\n  newRoom = newRoom.bind(this);\n  resetCamera = resetCamera.bind(this);\n  handleMove = handleMove.bind(this);\n  handleDown = handleDown.bind(this);\n  handleUp = handleUp.bind(this);\n  buildSocketEvents = buildSocketEvents.bind(this);\n  rebuildRoom = rebuildRoom.bind(this);\n  removeTransients = removeTransients.bind(this);\n  moveX = moveX.bind(this);\n  moveZ = moveZ.bind(this);\n  moveTheta = moveTheta.bind(this);\n  handleMouseMove = handleMouseMove.bind(this);\n  handleTouchMove = handleTouchMove.bind(this);\n  handleMouseDown = handleMouseDown.bind(this);\n  handleTouchStart = handleTouchStart.bind(this);\n  handleMouseUp = handleMouseUp.bind(this);\n  handleTouchEnd = handleTouchEnd.bind(this);\n  disposeAllFurnishings = disposeAllFurnishings.bind(this);\n  handleMoveCamera = handleMoveCamera.bind(this);\n  handleRotateCamera = handleRotateCamera.bind(this);\n  handleOverhead = handleOverhead.bind(this);\n  pushRoomToUndoStack = pushRoomToUndoStack.bind(this);\n  pushRoomToRedoStack = pushRoomToRedoStack.bind(this);\n  handleUndo = handleUndo.bind(this);\n  handleRedo = handleRedo.bind(this);\n  loadRoomFromState = loadRoomFromState.bind(this);\n\n  componentDidMount() {\n    this.buildSocketEvents();\n    const canvas = document.querySelector(\"#mc\");\n    this.canvas = canvas;\n    this.renderer = new WebGLRenderer({canvas:canvas,physicallyCorrectLights:true});\n    this.raycaster = new Raycaster();\n    this.renderer.shadowMap.enabled = true;\n    this.renderer.shadowMap.type = PCFSoftShadowMap;\n    this.camera = new PerspectiveCamera(75,width/height,0.1,100);\n    this.light = new PointLight(0xFFFFFF,1,100);\n    this.light.decay = 2;\n    this.ambientLight = new AmbientLight( 0x404040 );\n    this.scene = new Scene();\n    this.scene.background = new Color(0xffffff);\n    this.renderer.render(this.scene,this.camera);\n    this.interval = setInterval(\n      () => {\n        if(this.props.lock.lockObtained) {\n          this.props.socket.emit(\"lockRefresh\",{furnishingId:this.props.lock.furnishingId});\n        }\n      }\n    , 1000);\n\n    if(this.props.username === \"dummy\") {\n      fetch(`${apiurl}/api/users/dummy/rooms`,{method:'GET',credentials:'include'})\n      .then( res => res.json() )\n      .then( rooms => {\n        Object.keys(rooms).forEach( key => {\n          if(rooms[key].name === \"dummy\") {\n            this.openRoom(rooms[key].id);\n          }\n        });\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.disposeAllFurnishings();\n\n    this.removeTransients();\n    this.tossGarbage();\n    this.props.resetEverything();\n    this.props.clearUndoStack();\n    this.props.clearRedoStack();\n\n    clearInterval(this.interval);\n    this.interval = null;\n  }\n\n  render() {\n    if(this.renderer && this.scene && this.camera) {\n      this.renderer.render(this.scene,this.camera);\n    }\n\n    return ( \n      <>\n      <FileToolbar clearUndoStack={this.props.clearUndoStack} clearRedoStack={this.props.clearRedoStack} newRoom={this.newRoom} openRoom={this.openRoom} disposeAllFurnishings={this.disposeAllFurnishings} renderer={() => this.renderer} camera={() => this.camera} scene={() => this.scene} alphanumericFilter={this.props.alphanumericFilter} username={this.props.username} colors={this.props.colors} socket={this.props.socket} />\n      <FormButton value=\"Undo\" icon={<Undo />} handleSubmit={() => {if(this.props.undo.length > 0){ this.props.socket.emit(\"undo\",{room:this.props.undo[this.props.undo.length-1]} ) } } } />\n      <FormButton value=\"Redo\" icon={<Redo />} handleSubmit={() => {if(this.props.redo.length > 0){ this.props.socket.emit(\"redo\",{room:this.props.redo[this.props.redo.length-1]} ) } } } />\n      <FormButton value=\"Help\" icon={<Help />} handleSubmit={this.props.openHelp} />\n      <div>\n        {(!!this.props.roomProperties) ? <ModeToolbar pushRoomToUndoStack={this.pushRoomToUndoStack} renderer={() => this.renderer} camera={() => this.camera} scene={() => this.scene} alphanumericFilter={this.props.alphanumericFilter} socket={this.props.socket} colors={this.props.colors} username={this.props.username} /> : null }\n        {(!!this.props.roomProperties) ? <FormButton icon={<CameraAlt />} value=\"Reset Camera\" handleSubmit={this.resetCamera} /> : null }\n        {(!!this.props.roomProperties) ? <FormButton style={{backgroundColor: ((this.state.rotatingCameraMode || this.state.overheadView) ? \"white\" : \"yellow\")}} icon={<CenterFocusStrong />} value=\"Move Camera\" handleSubmit={this.handleMoveCamera} /> : null }\n        {(!!this.props.roomProperties) ? <FormButton style={{backgroundColor: ((this.state.rotatingCameraMode && (!this.state.overheadView)) ? \"yellow\" : \"white\")}} icon={<ThreeSixty />} value=\"Rotate Camera\" handleSubmit={this.handleRotateCamera} /> : null }\n        {(!!this.props.roomProperties) ? <FormButton style={{backgroundColor: (this.state.overheadView ? \"yellow\" : \"white\")}} value=\"Overhead View\" icon={<BorderOuter />} handleSubmit={this.handleOverhead} /> : null }\n      </div> \n        <div width={width} height={height} onMouseDown={this.handleMouseDown} onTouchStart={this.handleTouchStart} onMouseMove={this.handleMouseMove} onTouchMove={this.handleTouchMove} onMouseUp={this.handleMouseUp} onTouchEnd={this.handleTouchEnd} onTouchCancel={this.handleTouchEnd} onMouseOut={this.handleMouseUp}>\n          <canvas id=\"mc\" width={width} height={height}>Your browser doesn't appear to support HTML5 Canvas.</canvas>\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    room: state.room,\n    lock: state.lock,\n    mode: state.mode,\n    roomProperties: state.file.roomProperties,\n    undo: state.undo,\n    redo: state.redo\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setFurnishing : furnishingId => dispatch({type:\"SET_FURNISHING\",furnishingId:furnishingId}),\n    unLock : () => dispatch({type:\"UN_LOCK\"}),\n    setLockApproved: () => dispatch({type:\"SET_LOCK_APPROVED\"}),\n    brighten : (furnishingId, colors) => dispatch( { type:\"BRIGHTEN\", furnishingId:furnishingId, colors:colors } ),\n    setLockRequested: () => dispatch({type:\"SET_LOCK_REQUESTED\"}),\n    roomDoNothing : () => dispatch({type:\"ROOM_DO_NOTHING\"}),\n    moveX : (dx,furnishingId,colors) => dispatch({type:\"MOVE_X\",dx:dx,furnishingId:furnishingId,colors:colors}),\n    moveZ : (dz,furnishingId,colors) => dispatch({type:\"MOVE_Z\",dz:dz,furnishingId:furnishingId,colors:colors}),\n    moveTheta : (dtheta,furnishingId,colors) => dispatch({type:\"MOVE_THETA\",dtheta:dtheta,furnishingId:furnishingId,colors:colors}),\n    setMouseDown : (mousex,mousey) => dispatch({type:\"SET_MOUSE_DOWN\",mousex:mousex,mousey:mousey}),\n    unSetMouseDown : () => dispatch({type:\"UN_SET_MOUSE_DOWN\"}),\n    dim: (furnishingId,colors) => dispatch({type:\"DIM\",furnishingId:furnishingId,colors:colors}),\n    setMode : mode => dispatch({type:\"SET_MODE\",mode:mode}),\n    resetEverything : () => { dispatch({type:\"REMOVE_ALL_FURNISHINGS\"}); dispatch({type:\"RESET_FILE\"}); dispatch({type:\"LOCK_LOGOUT\"}); dispatch({type:\"MODE_LOGOUT\"}); },\n    removeAllFurnishings : () => { dispatch({type:\"REMOVE_ALL_FURNISHINGS\"}) },\n    addFurnishingFromObject: (obj,colors,renderer,camera,scene) => dispatch( {type:\"ADD_FURNISHING_FROM_OBJECT\",obj:obj,colors:colors,renderer:renderer,camera:camera,scene:scene} ),\n    deleteFurnishing : (furnishingId) => dispatch({type:\"DELETE_FURNISHING\",furnishingId:furnishingId}),\n    updateColor : (furnishingId,colorName,colors) => dispatch({type:\"UPDATE_COLOR\",furnishingId:furnishingId,colorName:colorName,colors:colors}),\n    setAvailableRooms: rooms => dispatch( {type:\"SET_AVAILABLE_ROOMS\",rooms:rooms}),\n    setRoomProperties: (roomProperties) => dispatch({type:\"SET_ROOM_PROPERTIES\",roomProperties:roomProperties}),\n    setIsOwner: (val) => dispatch({type:\"SET_IS_OWNER\",val:val}),\n    modeLogout : () => dispatch({type:\"MODE_LOGOUT\"}),\n    lockLogout : () => dispatch({type:\"LOCK_LOGOUT\"}),\n    fileLogout : () => dispatch({type:\"FILE_LOGOUT\"}),\n    roomLogout : () => dispatch({type:\"ROOM_LOGOUT\"}),\n    clearUndoStack : () =>  dispatch({type:\"CLEAR_UNDO_STACK\"}),\n    clearRedoStack : () => dispatch({type:\"CLEAR_REDO_STACK\"}),\n    pushToUndoStack : (stateToPush) => dispatch({type:\"PUSH_TO_UNDO_STACK\",stateToPush:stateToPush}),\n    popUndoStack : () => dispatch({type:\"POP_UNDO_STACK\"}),\n    pushToRedoStack : (stateToPush) => dispatch({type:\"PUSH_TO_REDO_STACK\",stateToPush:stateToPush}),\n    popRedoStack : () => dispatch({type:\"POP_REDO_STACK\"})\n  };\n};\n\nexport default connect(mapStateToProps,mapDispatchToProps)(MainCanvas);","export default function tossGarbage() {\n  while(this.garbage.length > 0) {\n    let trash = this.garbage.pop();\n    if(trash.dispose) {\n      trash.dispose();\n    }\n  }\n}","import apiurl from '../constants/apiurl';\n\nexport default function openRoom(inputVal) {\n  let roomId = parseInt(inputVal);\n  if(roomId !== -1) {\n    fetch(`${apiurl}/api/rooms/${this.props.alphanumericFilter(roomId)}`,{method:'GET',credentials:'include'})\n    .then( res => res.json() )\n    .then( room => {\n      this.props.setRoomProperties(room);\n      this.rebuildRoom();\n      fetch(`${apiurl}/api/rooms/${this.props.alphanumericFilter(roomId)}/furnishings`,{method:'GET',credentials:'include'})\n      .then(res => res.json() )\n      .then( furnishings => {\n        if(!furnishings.error) {\n          this.props.clearUndoStack();\n          this.props.clearRedoStack();\n          this.props.removeAllFurnishings();\n          Object.keys(furnishings).forEach(\n            key => {\n              this.props.addFurnishingFromObject(furnishings[key],this.props.colors,this.renderer,this.camera,this.scene);\n            }\n          );\n          this.props.socket.emit(\"join\",{roomId:roomId});\n\n          fetch(`${apiurl}/api/rooms/${this.props.alphanumericFilter(roomId)}/isOwner`,{method:'GET',credentials:'include'})\n          .then(res=>res.json())\n          .then( results => {\n            if(results.status) {\n              this.props.setIsOwner(true);\n            } else {\n              this.props.setIsOwner(false);\n            }\n          }).catch( () => { } );\n\n          this.props.setErrMsg(\"\");\n          this.setState({roomId: roomId});\n\n\n        } else {\n          this.props.setErrMsg(\"Could not open room\");\n          this.disposeAllFurnishings(true);\n          this.props.resetEverything();\n        } \n      }).catch( () => {\n        this.props.setErrMsg(\"Could not open room\");\n        this.disposeAllFurnishings(true);\n        this.props.resetEverything();\n      });\n    }).catch( () => {\n       this.props.setErrMsg(\"Could not open room\");\n       this.disposeAllFurnishings(true);\n       this.props.resetEverything();\n    });\n  \n  }\n}\n","import apiurl from '../constants/apiurl';\n\nexport default function newRoom(roomName,roomSize) {\n  let name = this.props.alphanumericReplace(roomName)\n  let size = this.props.alphanumericReplace(roomSize)\n  if(name && size && size.match(/^\\d+$/) && (parseInt(size)>0) && (parseInt(size)<11)) {\n    fetch(`${apiurl}/api/rooms`, { method:\"POST\",\n      headers: {\"Content-type\":\"application/json\"},\n      credentials:'include',\n      body: JSON.stringify( {room:{name:name,length:parseInt(size)+3,width:parseInt(size)+3,height:4}} ) }\n    ).then( res => res.json() )\n    .then( data => {\n      if(!data.error) {\n        this.props.clearUndoStack();\n        this.props.clearRedoStack();\n        this.props.setIsOwner(true);\n        this.props.setRoomProperties(data);\n        this.rebuildRoom();\n        this.props.socket.emit(\"join\",{roomId:data.id});\n        this.setState({roomId: data.id});\n      } else {\n        this.props.setErrMsg(\"Could not create room (try a different name)\");\n      }\n    })\n    .catch( () => this.props.setErrMsg(\"Could not create room\") );\n  } else {\n    this.props.setErrMsg(\"Could not create room\");\n  }\n}\n","export default function resetCamera() {\n  this.setState(\n    { cameraDispX: 0.0, cameraDispZ: 0.0, cameraRotDispY: 0.0, \n      rotatingCameraMode: false, overheadView: false },\n      () => {\n        this.camera.position.x = 0.0 + this.state.cameraDispX;\n        this.camera.position.y =  this.props.roomProperties.height * 0.5;\n        this.camera.position.z = 0.9*this.props.roomProperties.width/2+ this.state.cameraDispZ;\n        this.camera.rotation.x = 0.0;\n        this.camera.rotation.y = 0.0 + this.state.cameraRotDispY;\n        this.camera.rotation.z = 0.0;\n        this.renderer.render(this.scene,this.camera);\n      }\n  );\n}","import { Vector2 } from 'three';\nimport width from '../constants/width';\nimport height from '../constants/height';\n\nexport default function handleDown(pageX,pageY) {\n  let mouse = new Vector2();\n  mouse.x = ((pageX-this.renderer.domElement.offsetLeft) / width) * 2 - 1;\n  mouse.y = -((pageY-this.renderer.domElement.offsetTop) / height) * 2 + 1;\n  this.props.setMouseDown(mouse.x,mouse.y)\n  this.raycaster.setFromCamera( mouse, this.camera);\n  var furnishing = null;\n  var dist = -1;\n  this.props.room.forEach( thisFurnishing => {\n    var thisDist = thisFurnishing.checkIntersect(this.raycaster);\n    if(thisDist > -0.99) {\n      if((dist<-0.99) || (thisDist < dist)) {\n        dist = thisDist;\n        furnishing = thisFurnishing;\n      }\n    }\n  });\n  if(furnishing) {\n    if( (this.props.mode.mode === \"move\") || (this.props.mode.mode === \"rotate\") ) {\n      this.pushRoomToUndoStack();\n      this.props.socket.emit(\"pushRoomToUndoStack\");\n      this.props.socket.emit(\"clearRedoStack\");\n      this.props.socket.emit(\"lockRequest\",{furnishingId:furnishing.id});\n      this.props.setLockRequested();\n      this.props.setFurnishing(furnishing.id);\n      if(this.props.username === \"dummy\") {\n        this.props.setLockApproved();\n      }\n    } else if (this.props.mode.mode === \"color\") {\n      this.props.socket.emit(\"updateColor\",{furnishingId:furnishing.id,colorName:this.props.mode.colorName});\n      this.props.setMode(\"move\");\n    } else if (this.props.mode.mode === \"delete\") {\n      this.props.socket.emit(\"deleteFurnishing\",{furnishingId:furnishing.id});\n      this.props.setMode(\"move\");\n    }\n  }\n}","export default function handleUp() {\n  if(this.props.lock.lockObtained && this.props.lock.furnishingId) {\n      this.props.clearRedoStack();\n      this.props.socket.emit(\"lockRelease\",{furnishing:\n        this.props.room.find( furnishing => furnishing.id === this.props.lock.furnishingId ) });\n      this.props.unLock();\n  }\n  this.props.unSetMouseDown();\n  this.tossGarbage();\n}","import apiurl from '../constants/apiurl';\n\nexport default function buildSocketEvents() {\n  this.props.socket.on('disconnect', () => {\n    this.props.setErrMsg( \"There is a problem with the connection.\" );\n    this.disposeAllFurnishings(true);\n    this.props.resetEverything();\n  });\n\n  this.props.socket.on('reconnect',() => {\n    this.props.setErrMsg(\"\");\n    this.props.socket.emit(\"loggedInReconnectEvent\");\n  });\n\n  this.props.socket.on('loggedInReconnectEventResponse', msg => {\n    if(msg === \"logged in\") {\n      if(this.state.roomId) {\n        this.openRoom(this.state.roomId);\n      }\n    } else {\n      this.disposeAllFurnishings(true);\n      this.props.resetEverything();\n      this.props.modeLogout();\n      this.props.lockLogout();\n      this.props.fileLogout();\n      this.props.roomLogout();\n      fetch(`${apiurl}/api/login`, {method:'DELETE',credentials:'include'})\n      .then( () => this.props.history.push(\"/\") );\n    }\n  });\n\n  this.props.socket.on('roomDeleted',() => {\n    this.props.setErrMsg(\"The room was deleted.\");\n    this.props.socket.emit(\"removeFromAllRooms\");\n    this.disposeAllFurnishings(true);\n    this.props.resetEverything();\n  });\n\n  this.props.socket.on(\"create\",payload=>{\n    this.pushRoomToUndoStack();\n    this.props.clearRedoStack();\n    this.props.addFurnishingFromObject(payload.furnishing,this.props.colors,this.renderer,this.camera,this.scene)\n  });\n\n  this.props.socket.on(\"lockResponse\",payload=>{\n    if(payload === \"approved\") {\n      this.props.setLockApproved();\n    } else {\n      this.props.unLock();\n    }\n  });\n\n  this.props.socket.on(\"pushRoomToRedoStack\",payload=>{\n    this.pushRoomToRedoStack();\n  });\n\n  this.props.socket.on(\"pushRoomToUndoStack\", payload=>{\n    this.pushRoomToUndoStack();\n  });\n\n  this.props.socket.on(\"clearRedoStack\",payload=>{\n    this.props.clearRedoStack();\n  });\n\n  this.props.socket.on(\"clearUndoStack\", payload=>{\n    this.props.clearUndoStack();\n  });\n\n  this.props.socket.on(\"undo\",payload=>{\n    this.handleUndo(payload.room);\n  });\n\n  this.props.socket.on(\"redo\",payload=>{\n    this.handleRedo(payload.room);\n  });\n\n  this.props.socket.on(\"update\", payload => {\n    let furnishing = this.props.room.find( furnishing => furnishing.id === payload.furnishing.id );\n    if(furnishing) {\n      if(this.props.lock.furnishingId === furnishing.id) {\n        this.props.unLock();\n      }\n      furnishing.updateFromObject(payload.furnishing,this.props.colors);\n      this.renderer.render(this.scene,this.camera);\n    }\n  });\n\n  this.props.socket.on(\"delete\", payload=>{\n    let furnishing = this.props.room.find( furnishing => furnishing.id === payload.furnishingId);\n    if(furnishing) {\n      this.pushRoomToUndoStack();\n      this.props.clearRedoStack();\n      furnishing.removeFrom(this.scene);\n      this.props.deleteFurnishing(payload.furnishingId);\n      this.renderer.render(this.scene,this.camera);\n    }\n  });\n\n  this.props.socket.on(\"colorUpdate\",payload=>{\n    let furnishing = this.props.room.find( furnishing => furnishing.id === payload.furnishingId );\n    if(furnishing) {\n      this.pushRoomToUndoStack();\n      this.props.clearRedoStack();\n      furnishing.colorName = payload.colorName;\n      furnishing.red = this.props.colors[payload.colorName].red;\n      furnishing.green = this.props.colors[payload.colorName].green;\n      furnishing.blue = this.props.colors[payload.colorName].blue;\n      furnishing.fillColor();\n      this.renderer.render(this.scene,this.camera);\n    }\n  });\n\n  this.props.socket.on(\"availableRooms\", payload => {\n    this.props.setAvailableRooms(payload.availableRooms)\n  });\n\n  this.props.socket.on(\"mouseMoved\",payload => {\n    let furnishing = this.props.room.find( furnishing => furnishing.id === payload.furnishingId );\n    if(furnishing) {\n      furnishing.moveX(payload.diffX);\n      furnishing.moveZ(payload.diffZ);\n      furnishing.moveTheta(payload.diffTheta);\n      this.renderer.render(this.scene,this.camera);\n    }\n  });\n}","import { DoubleSide,Mesh,PlaneGeometry,MeshPhongMaterial } from 'three';\nimport Furnishing from '../furnishings/furnishing';\n\nexport default function rebuildRoom() {\n  if(this.renderer && this.light && this.camera) {\n    this.removeTransients();\n    this.tossGarbage();\n    this.disposeAllFurnishings();\n\n\n    this.scene = Furnishing.doInit(this.renderer,this.light,this.camera);\n\n    if(!this.state.overheadView) {\n      this.camera.position.x = 0.0 + this.state.cameraDispX;\n      this.camera.position.y =  this.props.roomProperties.height * 0.5;\n      this.camera.position.z = 0.9*this.props.roomProperties.width/2+ this.state.cameraDispZ;\n      this.camera.rotation.x = 0.0;\n      this.camera.rotation.y = 0.0 + this.state.cameraRotDispY;\n      this.camera.rotation.z = 0.0;\n    } else {\n      this.camera.position.x = 0.0;\n      this.camera.position.y = this.props.roomProperties.width*0.95;\n      this.camera.position.z = 0.0;\n      this.camera.rotation.x = -Math.PI/2;\n      this.camera.rotation.y = 0.0;\n      this.camera.rotation.z = 0.0;\n    }\n    this.light.castShadow = true;\n    this.light.shadow.bias = -0.0002;\n    this.light.position.set(0,0.9*this.props.roomProperties.height, 0*0.9*this.props.roomProperties.length / 2);\n    this.floor = new Mesh(\n      new PlaneGeometry(this.props.roomProperties.width, this.props.roomProperties.length),\n      new MeshPhongMaterial({color:\"white\",side:DoubleSide}) );\n    this.floor.receiveShadow = true;\n    this.floor.castShadow = true;\n    this.floor.rotation.x = Math.PI/2;\n    this.floor.position.y = 0.15;\n    this.ceiling = new Mesh(\n      new PlaneGeometry(this.props.roomProperties.width, this.props.roomProperties.length),\n      new MeshPhongMaterial({color:\"white\"}) );\n    this.ceiling.receiveShadow = true;\n    this.ceiling.castShadow = true;\n    this.ceiling.rotation.x = Math.PI/2;\n    this.ceiling.position.set(0,this.props.roomProperties.height,0);\n    this.wallLeft = new Mesh(\n      new PlaneGeometry(this.props.roomProperties.width, this.props.roomProperties.height),\n      new MeshPhongMaterial({color:\"white\"}) );\n    this.wallLeft.receiveShadow = true;\n    this.wallLeft.castShadow = true;\n    this.wallLeft.rotation.y = 1.0*Math.PI/2;\n    this.wallLeft.position.set(-this.props.roomProperties.width/2, this.props.roomProperties.height/2, 0);\n    this.wallRight = new Mesh(\n      new PlaneGeometry(this.props.roomProperties.width, this.props.roomProperties.height),\n      new MeshPhongMaterial({color:\"white\"}) );\n    this.wallRight.receiveShadow = true;\n    this.wallRight.castShadow = true;\n    this.wallRight.rotation.y = -1.0*Math.PI/2;\n    this.wallRight.position.set(this.props.roomProperties.width/2, this.props.roomProperties.height/2, 0);\n    this.wallBack = new Mesh(\n      new PlaneGeometry(this.props.roomProperties.width, this.props.roomProperties.height),\n      new MeshPhongMaterial({color:\"white\"}) );\n    this.wallBack.receiveShadow = true;\n    this.wallBack.castShadow= true;\n    this.wallBack.position.set(0, this.props.roomProperties.height/2, -this.props.roomProperties.length/2);\n    this.wallFront = new Mesh(\n      new PlaneGeometry(this.props.roomProperties.width, this.props.roomProperties.height),\n      new MeshPhongMaterial({color:\"white\"}) );\n    this.wallFront.rotation.y = Math.PI;\n    this.wallFront.receiveShadow = true;\n    this.wallFront.castShadow = true;\n    this.wallFront.position.set(0, this.props.roomProperties.height/2, this.props.roomProperties.length/2);\n    \n    this.scene.add(this.floor);\n    this.scene.add(this.wallLeft);\n    this.scene.add(this.wallRight);\n    this.scene.add(this.wallBack);\n    this.scene.add(this.ceiling);\n    this.scene.add(this.wallFront);\n    this.scene.add(this.ambientLight);\n    this.renderer.render(this.scene,this.camera)\n  }\n}","export default function removeTransients() {\n  if(this.scene) { this.scene.dispose(); }\n  if(this.floor) {\n    this.garbage.push(this.floor.geometry);\n    this.garbage.push(this.floor.material);\n    delete this.floor;\n  }\n  if(this.ceiling) {\n    this.garbage.push(this.ceiling.geometry);\n    this.garbage.push(this.ceiling.material);\n    delete this.ceiling;\n  }\n  if(this.wallLeft) {\n    this.garbage.push(this.wallLeft.geometry);\n    this.garbage.push(this.wallLeft.material);\n    delete this.wallLeft;\n  }\n  if(this.wallRight) {\n    this.garbage.push(this.wallRight.geometry);\n    this.garbage.push(this.wallRight.material);\n    delete this.wallRight;\n  }\n  if(this.wallBack) {\n    this.garbage.push(this.wallBack.geometry);\n    this.garbage.push(this.wallBack.material);\n    delete this.wallBack;\n  }\n  if(this.wallFront) {\n    this.garbage.push(this.wallFront.geometry);\n    this.garbage.push(this.wallFront.material);\n    delete this.wallFront;\n  }\n}","export default function moveX(diffX, furnishingId) {\n  var furnishing = this.props.room.find( furnishing => furnishing.id === furnishingId );\n  furnishing.moveX(diffX);\n  this.renderer.render(this.scene,this.camera);\n}","export default function moveZ(diffZ, furnishingId) {\n  var furnishing = this.props.room.find( furnishing => furnishing.id === furnishingId );\n  furnishing.moveZ(diffZ);\n  this.renderer.render(this.scene,this.camera);\n}","export default function moveTheta(diffTheta, furnishingId) {\n  var furnishing = this.props.room.find( furnishing => furnishing.id === furnishingId );\n  furnishing.moveTheta(diffTheta);\n  this.renderer.render(this.scene,this.camera);\n}","export default function handleMouseMove(event) {\n  event.preventDefault();\n  this.handleMove(event.pageX,event.pageY,event.movementX,event.movementY);\n}","export default function handleTouchMove(event) {\n  let lastTouchMoveX = this.lastTouchMoveX;\n  let lastTouchMoveY = this.lastTouchMoveY;\n  this.lastTouchMoveX = event.touches[0].pageX;\n  this.lastTouchMoveY = event.touches[0].pageY;\n  if(lastTouchMoveX && lastTouchMoveY) {\n    this.handleMove(event.touches[0].pageX,event.touches[0].pageY,\n      event.touches[0].pageX-lastTouchMoveX,\n      event.touches[0].pageY-lastTouchMoveY);\n  }\n}","export default function handleMouseDown(event) {\n  event.preventDefault();\n  this.handleDown( event.pageX, event.pageY );\n}","export default function handleTouchStart(event) {\n  this.handleDown(event.touches[0].pageX,event.touches[0].pageY);\n}","\n  export default function handleMouseUp(event) {\n    event.preventDefault();\n    this.handleUp();\n  }","export default function handleTouchEnd(event) {\n  this.lastTouchMoveX = null;\n  this.lastTouchMoveY = null;\n  this.handleUp();\n}","import { Scene, Color } from 'three';\n\nexport default function disposeAllFurnishings(reRender) {\n  if(this.props.room) {\n    for(let i = 0; i < this.props.room.length; i++) {\n      let furnishing = this.props.room[i];\n      furnishing.removeFrom(this.scene);\n    }\n    this.props.removeAllFurnishings();\n    if(reRender) {\n      this.scene.dispose();\n      this.scene = new Scene();\n      this.scene.background = new Color(0xffffff);\n      this.renderer.render(this.scene,this.camera);\n    }\n  }\n}\n","export default function handleMoveCamera() {\n  this.setState( { rotatingCameraMode: false, overheadView: false } )\n  this.camera.position.x = 0.0 + this.state.cameraDispX;\n  this.camera.position.y =  this.props.roomProperties.height * 0.5;\n  this.camera.position.z = 0.9*this.props.roomProperties.width/2+ this.state.cameraDispZ;\n  this.camera.rotation.x = 0.0;\n  this.camera.rotation.y = 0.0 + this.state.cameraRotDispY;\n  this.camera.rotation.z = 0.0;\n  this.renderer.render(this.scene,this.camera);\n}","export default function handleRotateCamera() {\n  this.setState( { rotatingCameraMode: true, overheadView: false } )\n  this.camera.position.x = 0.0 + this.state.cameraDispX;\n  this.camera.position.y =  this.props.roomProperties.height * 0.5;\n  this.camera.position.z = 0.9*this.props.roomProperties.width/2+ this.state.cameraDispZ;\n  this.camera.rotation.x = 0.0;\n  this.camera.rotation.y = 0.0 + this.state.cameraRotDispY;\n  this.camera.rotation.z = 0.0;\n  this.renderer.render(this.scene,this.camera);\n}","export default function handleOverhead() {\n  this.setState( { rotatingCameraMode: false, overheadView: true } );\n  this.camera.position.x = 0.0;\n  this.camera.position.y = this.props.roomProperties.width*0.95;\n  this.camera.position.z = 0.0;\n  this.camera.rotation.x = -Math.PI/2;\n  this.camera.rotation.y = 0.0;\n  this.camera.rotation.z = 0.0;\n  this.renderer.render(this.scene,this.camera);\n}","export default function pushRoomToUndoStack() {\n  // record an object representation of every furnishing in the room\n  let oldState = this.props.room.map( furnishing => furnishing.objVal() );\n  this.props.pushToUndoStack(oldState);\n}\n","export default function pushRoomToRedoStack() {\n  // record an object representation of every furnishing in the room\n  let oldState = this.props.room.map( furnishing => furnishing.objVal() );\n  this.props.pushToRedoStack(oldState);\n}\n","export default function handleUndo(room) {\n  if(this.props.roomProperties) {\n    this.pushRoomToRedoStack();\n    this.loadRoomFromState(room);\n    this.props.popUndoStack();\n  }\n}\n","export default function handleRedo(room) {\n  if(this.props.roomProperties) {\n    this.pushRoomToUndoStack();\n    this.loadRoomFromState(room);\n    this.props.popRedoStack();\n  }\n}\n","export default function loadRoomFromState(state) {\n  this.disposeAllFurnishings(true);\n  this.rebuildRoom();\n  state.forEach( furnishing => {\n    this.props.addFurnishingFromObject(furnishing,this.props.colors,this.renderer,this.camera,this.scene);\n  });\n}\n","import React from 'react';\nimport '../App.css';\nimport HelpModal from '../modals/helpmodal';\nimport MainCanvas from '../components/maincanvas';\nimport { connect } from 'react-redux';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport AccountBox from '@material-ui/icons/AccountBox';\nimport DirectionsWalk from '@material-ui/icons/DirectionsWalk';\nimport apiurl from '../constants/apiurl';\n\nconst io = require(\"socket.io-client\");\nconst wsloc = ( (!window.location.href.includes(\"localhost\")) ? \"wss://spaceplanner3d.herokuapp.com\" : \"ws://localhost:8000\" );\n\nclass Main extends React.Component {\n\n  state = { username:\"\", socket:null, colors:{}, errMsg: null, modal: null };\n\n  setErrMsg = msg => {\n    this.setState({errMsg: msg});\n  }\n\n  componentDidMount() {\n    fetch(`${apiurl}/api/colors`,{method:'GET',credentials:'include'})\n    .then( res => res.json() )\n    .then( data => {\n      data.forEach( color => {\n        let newColors = {...this.state.colors};\n        newColors[color.name] = {red: color.red, green: color.green, blue: color.blue};\n        this.setState({colors: newColors});\n      });\n\n      fetch(`${apiurl}/api/loggedin`,{method:'GET',credentials:'include'})\n      .then( res => res.json() )\n      .then( data => {\n        if(data.status && (data.status.includes('Logged in as '))) {\n          var username = this.props.alphanumericFilter(data.status.split(\" \")[3]);\n          this.setState({username:username}, () =>\n            this.setState({socket: io(wsloc,{transports:['websocket']}) })\n          );\n          fetch(`${apiurl}/api/users/${this.props.alphanumericFilter(username)}/rooms`,{method:'GET',credentials:'include'})\n          .then( res => res.json() )\n          .then( rooms => {\n            this.props.setAvailableRooms(rooms)\n          }).catch( () => { } )\n          this.roomsInterval = setInterval( () => {\n            if(this.state.socket) {\n              this.state.socket.emit(\"getAvailableRooms\");\n            }\n          },5000);\n        } else {\n          this.props.history.push(\"/\");\n        }\n      });\n    }).catch( () => { } )\n   \n  }\n\n\n  componentWillUnmount() {\n    if(this.roomsInterval) {\n      clearInterval(this.roomsInterval);\n      this.roomsInterval = null;\n    }\n    if(this.state.socket && this.state.socket.emit) {\n      this.state.socket.emit(\"removeFromAllRooms\");\n    }\n  }\n\n\n  handleLogout = (e) => {\n    e.preventDefault();\n    this.props.modeLogout();\n    this.props.lockLogout();\n    this.props.fileLogout();\n    this.props.roomLogout();\n    fetch(`${apiurl}/api/login`, {method:'DELETE',credentials:'include'})\n    .then( () => this.props.history.push(\"/\"));\n  }\n\n  openHelp = () => {\n    this.setState({modal:\"help\"});\n  }\n\n  render() {\n    return ( \n      <>\n      {\n        (this.state.modal === \"help\")\n        ?\n        <HelpModal okCallback={() => this.setState({modal:null})} />\n        :\n        null\n      }\n    <div>\n      \n      <div style={{width:\"100%\",paddingLeft:\"50px\"}}>\n   <p> <b>{ (this.state.username !== \"dummy\") ? this.state.username : null }</b> { this.state.errMsg ? <span style={{color:\"red\"}}><b>{this.state.errMsg}</b></span> : null }</p>\n        <form style={{display:\"inline\"}} onSubmit={this.handleLogout}><button type=\"submit\" title=\"Logout\"><SvgIcon><DirectionsWalk /></SvgIcon></button></form>\n        <form style={{display:\"inline\"}} onSubmit={() => this.props.history.push(\"/manageAccount\")}><button type=\"submit\" title=\"Manage Account\"><SvgIcon><AccountBox /></SvgIcon></button></form>\n      \n        \n        { (!!this.state.socket) ? <MainCanvas history={this.props.history} openHelp={this.openHelp} setErrMsg={this.setErrMsg} alphanumericReplace={this.props.alphanumericReplace} alphanumericFilter={this.props.alphanumericFilter} username={this.state.username} colors={this.state.colors} socket={this.state.socket} /> : null }\n      </div>\n    </div>\n    </> );\n  }\n}\n\n\n\nconst mapStateToProps = state => {\n  return {\n    roomProperties: state.file.roomProperties,\n    lock: state.lock\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addFurnishingFromObject: (obj,colors) => dispatch( {type:\"ADD_FURNISHING_FROM_OBJECT\",obj:obj,colors:colors} ),\n    setAvailableRooms: rooms => dispatch( {type:\"SET_AVAILABLE_ROOMS\",rooms:rooms}),\n    unLock : () => dispatch({type:\"UN_LOCK\"}),\n    setLockApproved: () => dispatch({type:\"SET_LOCK_APPROVED\"}),\n    brighten : (furnishingId, colors) => dispatch( { type:\"BRIGHTEN\", furnishingId:furnishingId, colors:colors } ),\n    deleteFurnishing : (furnishingId) => dispatch({type:\"DELETE_FURNISHING\",furnishingId:furnishingId}),\n    updateColor : (furnishingId,colorName,colors) => dispatch({type:\"UPDATE_COLOR\",furnishingId:furnishingId,colorName:colorName,colors:colors}),\n    modeLogout : () => dispatch({type:\"MODE_LOGOUT\"}),\n    lockLogout : () => dispatch({type:\"LOCK_LOGOUT\"}),\n    fileLogout : () => dispatch({type:\"FILE_LOGOUT\"}),\n    roomLogout : () => dispatch({type:\"ROOM_LOGOUT\"}),\n    resetEverything : () => { dispatch({type:\"REMOVE_ALL_FURNISHINGS\"}); dispatch({type:\"RESET_FILE\"}); dispatch({type:\"LOCK_LOGOUT\"}); dispatch({type:\"MODE_LOGOUT\"}); }\n  };\n};\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Main);","import React from 'react';\nimport FormButton from '../components/formbutton';\nimport '../App.css';\nimport apiurl from '../constants/apiurl';\nimport SafariModal from '../modals/safarimodal';\n\nexport default class Login extends React.Component {\n\n  state = { err: \"\", modal: null }\n\n\n  componentDidMount() {\n    fetch(`${apiurl}/api/loggedin`,{\n      method:'GET',\n      credentials:'include'\n    })\n    .then( res => res.json() )\n    .then( data => {\n      if(data.status.includes(\"Logged in as \")) {\n        this.props.history.push(\"/main\");\n      }\n    });\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    let username = this.props.alphanumericFilter(document.querySelector(\"#username\").value);\n    let password = this.props.alphanumericFilter(document.querySelector(\"#password\").value);\n    if( (!username) || (!password) ) {\n      this.setState({err:\"Username and password must be alphanumeric.\"});\n      return;\n    }\n\n\n    fetch(`${apiurl}/api/login`, {method:\"POST\",\n      headers:{\"Content-Type\":\"application/json\"},\n      body:JSON.stringify({username:username,password:password}),\n      credentials: 'include'\n    }).then( res => res.json() )\n    .then( data => {\n      if(data.success) {\n        this.props.history.push(\"/main\");\n      } else {\n        this.setState({err:\"Could not log in\"});\n      }\n    });\n  }\n\n\n  render() {\n    return ( \n      <div style={{width:\"80%\",paddingLeft:\"50px\",paddingTop:\"20px\"}}>\n        <FormButton value=\"Sign Up\" handleSubmit={() => this.props.history.push(\"/signup\")} />\n        <form onSubmit={this.handleSubmit}>\n          <p>Username: <input type=\"text\" id=\"username\" name=\"username\" defaultValue=\"dummy\" /></p>\n          <p>Password: <input type=\"password\" id=\"password\" name=\"password\" defaultValue=\"abcdef\" /></p>\n          <p style={{color:\"red\"}}><b>{this.state.err}</b></p>\n          <p><button type=\"submit\">Login</button></p>\n        </form>\n        <p><b>Dummy account:</b> username \"dummy\", password \"abcdef\" (without the quotes).</p>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport '../App.css';\n\nexport default class NavBar extends React.Component {\n  render() {\n    return (\n      <div style={{zIndex:2,top:\"0px\",paddingLeft:\"50px\",paddingTop:\"25px\",margin:\"0px\",width:\"100%\",height:\"80px\",backgroundColor:\"#edcc53\",fontFamily:\"sans-serif\",fontSize:\"25pt\",fontWeight:\"bold\"}}>\n        \n        Space Planner 3D\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport '../App.css';\nimport FormButton from '../components/formbutton';\nimport ConfirmModal from '../modals/confirmmodal';\nimport apiurl from '../constants/apiurl';\n\nexport default class ManageAccount extends React.Component {\n\n  state = { err: \"\", modal: null,deleteUsername:\"\" }\n\n  componentDidMount() {\n    fetch(`${apiurl}/api/loggedin`,{method:'GET',credentials:'include'})\n    .then( res => res.json() )\n    .then( data => {\n      if(!data.status.includes(\"Logged in as \")) {\n        this.props.history.push(\"/\");\n      }\n    });\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    let username = this.props.alphanumericFilter(document.querySelector(\"#username\").value);\n    let oldPassword = this.props.alphanumericFilter(document.querySelector(\"#oldPassword\").value);\n    let password = this.props.alphanumericFilter(document.querySelector(\"#password\").value);\n    let confirmPassword = this.props.alphanumericFilter(document.querySelector(\"#confirmPassword\").value);\n\n    if( (!username) || (!oldPassword) || (!password) || (!confirmPassword) ) {\n      this.setState({err:\"Username and password must be alphanumeric.\"});\n      return;\n    }\n\n    if(password !== confirmPassword) {\n      this.setState({err: \"New passwords must match\"});\n    } else {\n      fetch(`${apiurl}/api/users/${username}/password`,{method:\"PATCH\",\n        headers: {\"Content-type\":\"application/json\"},\n        credentials:'include',\n        body: JSON.stringify({ currentPassword:oldPassword, newPassword: password })\n      }).then(res=>res.json())\n      .then( response => {\n        if(response.success) {\n          this.props.history.push(\"/main\");\n        } else {\n          this.setState({err:\"Could not create user\"});\n        }\n      });\n    }\n\n  }\n\n  deleteAccount = () => {\n    let username = this.props.alphanumericFilter(this.state.deleteUsername);\n    if( username )\n    {\n      fetch(`${apiurl}/api/users/${username}`,{method:\"DELETE\",credentials:'include'})\n      .then( () => \n        fetch(`${apiurl}/api/login`, {method:'DELETE',credentials:'include'})\n        .then( () => {\n          this.props.history.push(\"/\") \n        }) \n      );\n    }\n  }\n\n  handleDelete = e => {\n    let name = document.querySelector('#deleteUsername').value;\n    e.preventDefault();\n    e.target.reset();\n    this.setState({modal:\"delete\",deleteUsername:name}) \n  }\n\n  render() {\n    return (\n      <>\n      {\n        (this.state.modal === \"delete\")\n        ?\n        <ConfirmModal message={\"Permanently delete this account?\"} cancelCallback={() => this.setState({modal:null})} okCallback={() => {this.setState({modal:null});this.deleteAccount();}} />\n        :\n        null\n      }\n      <div style={{width:\"100%\",paddingLeft:\"50px\",paddingTop:\"20px\"}}>\n        <FormButton value=\"Return to Main\" handleSubmit={() => this.props.history.push(\"/main\")} />\n        <h2>Change Password</h2>\n        <form onSubmit={this.handleSubmit}>\n          <p>Username: <input type=\"text\" id=\"username\" /></p>\n          <p>Old Password: <input type=\"password\" id=\"oldPassword\" /></p>\n          <p>New Password: <input type=\"password\" id=\"password\" /></p>\n          <p>Confirm New Password: <input type=\"password\" id=\"confirmPassword\" /></p>\n          <p style={{color:\"red\"}}><b>{this.state.err}</b></p>\n          <p><button type=\"submit\">Submit</button></p>\n        </form>\n        <h2>Delete Account</h2>\n        <form onSubmit={this.handleDelete}>\n          <p>Enter Username: <input type=\"text\" id=\"deleteUsername\" /></p>\n          <p><button type=\"submit\">Delete Account</button></p>\n        </form>\n      </div>\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport './App.css';\nimport {BrowserRouter as Router, Route, Link} from 'react-router-dom';\nimport Signup from './routes/signup';\nimport Main from './routes/main';\nimport Login from './routes/login';\nimport NavBar from './components/navbar';\nimport ManageAccount from './routes/manageAccount';\n\nexport default class App extends React.Component {\n\n  // return string if string is alphanumeric, null otherwise\n  // allowSpaces : allow spaces if true, default false\n  alphanumericFilter = (string, allowSpaces = false) => {\n    var match = ( allowSpaces ? /^[a-zA-Z0-9 ]*$/ : /^[a-zA-Z0-9]*$/ );\n    if( string && string.toString && string.toString().match(match) ) {\n      return string.toString();\n    } else {\n      return null;\n    }\n  }\n\n  // remove non-alphanumeric characters from string and return result\n  alphanumericReplace = string => {\n    if(string && string.toString) {\n      return string.toString().replace(/[^a-zA-Z0-9]/g,\"\");\n    } else {\n      return null;\n    }\n  }\n\n  render() {\n    return (\n      <Router>\n        <NavBar />\n        <Route exact path=\"/\" render={(props) => <Login {...props} alphanumericFilter={this.alphanumericFilter} />} />\n        <Route exact path=\"/signup\" render={(props) => <Signup {...props} alphanumericFilter={this.alphanumericFilter} />} />\n        <Route exact path=\"/main\" render={(props) => <Main {...props} alphanumericReplace={this.alphanumericReplace} alphanumericFilter={this.alphanumericFilter} />}  />\n        <Route exact path=\"/manageAccount\" render={(props) => <ManageAccount {...props} alphanumericFilter={this.alphanumericFilter}  />} />\n      </Router>\n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'react-app-polyfill/ie9';\nimport 'react-app-polyfill/stable';\nimport 'core-js';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport rootReducer from './reducers/index.js';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst store = createStore(rootReducer);\n\nReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}